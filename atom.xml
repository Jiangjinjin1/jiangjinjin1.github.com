<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>fighting of erha</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://jiangjinjin1.github.io/"/>
  <updated>2019-02-14T03:31:56.313Z</updated>
  <id>https://jiangjinjin1.github.io/</id>
  
  <author>
    <name>fighting of erha</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>react-nativeéšç¬”</title>
    <link href="https://jiangjinjin1.github.io/2019/02/14/react-native%E9%9A%8F%E7%AC%94/"/>
    <id>https://jiangjinjin1.github.io/2019/02/14/react-nativeéšç¬”/</id>
    <published>2019-02-14T03:17:42.000Z</published>
    <updated>2019-02-14T03:31:56.313Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åšäº†react-nativeä¹Ÿæœ‰ä¸¤å¹´äº†ï¼Œå¹³æ—¶é‡åˆ°çš„æ³¨æ„ç‚¹å’Œå‘ï¼Œåªæ˜¯è§£å†³äº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è®°å½•ï¼Œç°åœ¨å›æƒ³æˆ‘éƒ½ä¸è®°å¾—æˆ‘é‡åˆ°å“ªäº›å‘äº†ï¼Œä¸€è„¸æ‡µé€¼å½“ä¸­23333.ã€‚ã€‚ï¼Œ<br>è¿˜æ˜¯åŠ¨åŠ¨æ‰‹è®°å½•ä¸‹ï¼Œå…å¾—æ˜å¹´ä¹Ÿæ‡µé€¼ğŸ˜†</p><h2 id="æ³¨æ„ç‚¹ã€å‘ç‚¹ã€ä¸å¸¸ç”¨ä¸æ˜“è®°çš„"><a href="#æ³¨æ„ç‚¹ã€å‘ç‚¹ã€ä¸å¸¸ç”¨ä¸æ˜“è®°çš„" class="headerlink" title="æ³¨æ„ç‚¹ã€å‘ç‚¹ã€ä¸å¸¸ç”¨ä¸æ˜“è®°çš„"></a>æ³¨æ„ç‚¹ã€å‘ç‚¹ã€ä¸å¸¸ç”¨ä¸æ˜“è®°çš„</h2><ul><li>1ã€flexå’ŒflexGrowçš„åŒºåˆ«ï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼Œflex:1ï¼Œå’ŒflexGrow: 1,éƒ½ä¼šåœ¨çˆ¶å…ƒç´ ä¸‹å æ»¡å„è‡ªçš„ç©ºé—´ï¼Œflex: 1æ—¶ï¼Œä¸€ä¸ªviewæƒ³è®¾ç½®heightï¼ŒåŒæ—¶é«˜äº<br>çˆ¶å…ƒç´ çš„ç©ºé—´ï¼Œè¿™æ ·é«˜åº¦ä»ç„¶æ˜¯å æ»¡çˆ¶å…ƒç´ å¹¶ä¸ä¼šæ’‘å¼€ã€‚flexGrow: 1æ—¶ï¼Œè®¾ç½®äº†heightï¼Œä¸ä¼šå—çˆ¶å…ƒç´ ç©ºé—´é™åˆ¶ã€‚<br>è§£é‡Šï¼šflexåªæœ‰ä¸€ä¸ªå€¼ï¼Œä¸”å€¼ä¸ºæ•´æ•°æ—¶ï¼Œç­‰ä»·äº flexï¼šX, 1, 0  ï¼ï¼è¿™æ‰æ˜¯æœ€ç»ˆç­”æ¡ˆï¼Œæ˜¯æ ¹æœ¬åŸå› ã€‚<br>flexè¿™ä¸ªå±æ€§æ˜¯flexGrowã€flexShrinkå’ŒflexBasisä¸‰ä¸ªå±æ€§çš„ç¼©å†™ã€‚<br>è¯¦ç»†å¸ƒå±€ç‰‡å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« [<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html</a>]</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;åšäº†react-nativeä¹Ÿæœ‰ä¸¤å¹´äº†ï¼Œå¹³æ—¶é‡åˆ°çš„æ³¨æ„ç‚¹å’Œå‘ï¼Œåªæ˜¯è§£å†³äº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è®°å½•ï¼Œç°åœ¨å›æƒ³æˆ‘éƒ½ä¸è®°å¾—æˆ‘é‡åˆ°å“ªäº›å‘äº†ï¼Œä¸€è„¸æ‡µé€¼å½“ä¸­23
      
    
    </summary>
    
      <category term="react-native" scheme="https://jiangjinjin1.github.io/categories/react-native/"/>
    
    
      <category term="react-native" scheme="https://jiangjinjin1.github.io/tags/react-native/"/>
    
  </entry>
  
  <entry>
    <title>JSçŸ¥è¯†é¢è¯•é¢˜</title>
    <link href="https://jiangjinjin1.github.io/2019/01/07/JS%E7%9F%A5%E8%AF%86%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>https://jiangjinjin1.github.io/2019/01/07/JSçŸ¥è¯†é¢è¯•é¢˜/</id>
    <published>2019-01-07T02:56:25.000Z</published>
    <updated>2019-01-09T03:20:21.305Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€åŸºç¡€javascriptç¯‡"><a href="#ä¸€ã€åŸºç¡€javascriptç¯‡" class="headerlink" title="ä¸€ã€åŸºç¡€javascriptç¯‡"></a>ä¸€ã€åŸºç¡€javascriptç¯‡</h1><h2 id="1ã€ç±»çš„åˆ›å»ºå’Œç»§æ‰¿"><a href="#1ã€ç±»çš„åˆ›å»ºå’Œç»§æ‰¿" class="headerlink" title="1ã€ç±»çš„åˆ›å»ºå’Œç»§æ‰¿"></a>1ã€ç±»çš„åˆ›å»ºå’Œç»§æ‰¿</h2><p>ï¼ˆ1ï¼‰ç±»çš„åˆ›å»ºï¼ˆes5ï¼‰ï¼šnewä¸€ä¸ªfunctionï¼Œåœ¨è¿™ä¸ªfunctionçš„prototypeé‡Œé¢å¢åŠ å±æ€§å’Œæ–¹æ³•ã€‚</p><p>ä¸‹é¢æ¥åˆ›å»ºä¸€ä¸ªAnimalç±»ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªåŠ¨ç‰©ç±»</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å±æ€§</span></span><br><span class="line">  <span class="keyword">this</span>.name = name || <span class="string">'Animal'</span>;</span><br><span class="line">  <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">this</span>.sleep = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'æ­£åœ¨ç¡è§‰ï¼'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŸå‹æ–¹æ³•</span></span><br><span class="line">Animal.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params">food</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'æ­£åœ¨åƒï¼š'</span> + food);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><a id="more"></a><p>è¿™æ ·å°±ç”Ÿæˆäº†ä¸€ä¸ªAnimalç±»ï¼Œå®åŠ›åŒ–ç”Ÿæˆå¯¹è±¡åï¼Œæœ‰æ–¹æ³•å’Œå±æ€§ã€‚</p><p>ï¼ˆ2ï¼‰ç±»çš„ç»§æ‰¿â€”â€”åŸå‹é“¾ç»§æ‰¿</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">--åŸå‹é“¾ç»§æ‰¿</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>)</span>&#123; &#125;</span><br><span class="line">Cat.prototype = <span class="keyword">new</span> Animal();</span><br><span class="line">Cat.prototype.name = <span class="string">'cat'</span>;</span><br><span class="line"><span class="comment">//&amp;emsp;Test Code</span></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);</span><br><span class="line"><span class="built_in">console</span>.log(cat.eat(<span class="string">'fish'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep());</span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">//true </span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">//true</span></span><br></pre></td></tr></table></figure><ul><li>ä»‹ç»ï¼šåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°newäº†ä¸€ä¸ªç©ºå¯¹è±¡,è¿™ä¸ªç©ºå¯¹è±¡æŒ‡å‘Animalå¹¶ä¸”Cat.prototypeæŒ‡å‘äº†è¿™ä¸ªç©ºå¯¹è±¡ï¼Œè¿™ç§å°±æ˜¯åŸºäºåŸå‹é“¾çš„ç»§æ‰¿ã€‚</li><li>ç‰¹ç‚¹ï¼šåŸºäºåŸå‹é“¾ï¼Œæ—¢æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯å­ç±»çš„å®ä¾‹</li><li>ç¼ºç‚¹ï¼šæ— æ³•å®ç°å¤šç»§æ‰¿</li></ul><p>ï¼ˆ3ï¼‰æ„é€ ç»§æ‰¿ï¼šä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰äºæ˜¯å¤åˆ¶çˆ¶ç±»çš„å®ä¾‹å±æ€§ç»™å­ç±»ï¼ˆæ²¡ç”¨åˆ°åŸå‹ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.name = name || <span class="string">'Tom'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Test Code</span></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);</span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep());</span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><ul><li>ç‰¹ç‚¹ï¼šå¯ä»¥å®ç°å¤šç»§æ‰¿</li><li>ç¼ºç‚¹ï¼šåªèƒ½ç»§æ‰¿çˆ¶ç±»å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚</li></ul><p>ï¼ˆ4ï¼‰å®ä¾‹ç»§æ‰¿å’Œæ‹·è´ç»§æ‰¿<br></p><ul><li>å®ä¾‹ç»§æ‰¿ï¼šä¸ºçˆ¶ç±»å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œä½œä¸ºå­ç±»å®ä¾‹è¿”å›</li><li>æ‹·è´ç»§æ‰¿ï¼šæ‹·è´çˆ¶ç±»å…ƒç´ ä¸Šçš„å±æ€§å’Œæ–¹æ³•</li><li>ä¸Šè¿°ä¸¤ä¸ªå®ç”¨æ€§ä¸å¼ºï¼Œä¸ä¸€ä¸€ä¸¾ä¾‹ã€‚</li></ul><p>ï¼ˆ5ï¼‰ç»„åˆç»§æ‰¿ï¼šç›¸å½“äºæ„é€ ç»§æ‰¿å’ŒåŸå‹é“¾ç»§æ‰¿çš„ç»„åˆä½“ã€‚é€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.name = name || <span class="string">'Tom'</span>;</span><br><span class="line">&#125;</span><br><span class="line">Cat.prototype = <span class="keyword">new</span> Animal();</span><br><span class="line">Cat.prototype.constructor = Cat;</span><br><span class="line"><span class="comment">// Test Code</span></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);</span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep());</span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><ul><li>ç‰¹ç‚¹ï¼šå¯ä»¥ç»§æ‰¿å®ä¾‹å±æ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•</li><li>ç¼ºç‚¹ï¼šè°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹</li></ul><p>ï¼ˆ6ï¼‰å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼šé€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æ‰çˆ¶ç±»çš„å®ä¾‹å±æ€§ï¼Œè¿™æ ·ï¼Œåœ¨è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ çš„æ—¶å€™ï¼Œå°±ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®ä¾‹æ–¹æ³•/å±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.name = name || <span class="string">'Tom'</span>;</span><br><span class="line">&#125;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ç±»</span></span><br><span class="line">  <span class="keyword">var</span> Super = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">  Super.prototype = Animal.prototype;</span><br><span class="line">  <span class="comment">//å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</span></span><br><span class="line">  Cat.prototype = <span class="keyword">new</span> Super();</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// Test Code</span></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);</span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep());</span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">//true</span></span><br></pre></td></tr></table></figure><ul><li>è¾ƒä¸ºæ¨è</li></ul><h2 id="2ã€è¯´è¯´å‰ç«¯ä¸­çš„äº‹ä»¶æµ"><a href="#2ã€è¯´è¯´å‰ç«¯ä¸­çš„äº‹ä»¶æµ" class="headerlink" title="2ã€è¯´è¯´å‰ç«¯ä¸­çš„äº‹ä»¶æµ"></a>2ã€è¯´è¯´å‰ç«¯ä¸­çš„äº‹ä»¶æµ</h2><p>&emsp;&emsp;HTMLä¸­ä¸javascriptäº¤äº’æ˜¯é€šè¿‡äº‹ä»¶é©±åŠ¨æ¥å®ç°çš„ï¼Œä¾‹å¦‚é¼ æ ‡ç‚¹å‡»äº‹ä»¶onclickã€é¡µé¢çš„æ»šåŠ¨äº‹ä»¶onscrollç­‰ç­‰ï¼Œå¯ä»¥å‘æ–‡æ¡£æˆ–è€…æ–‡æ¡£ä¸­çš„å…ƒç´ æ·»åŠ äº‹ä»¶ä¾¦å¬å™¨æ¥é¢„è®¢äº‹ä»¶ã€‚æƒ³è¦çŸ¥é“è¿™äº›äº‹ä»¶æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™è¿›è¡Œè°ƒç”¨çš„ï¼Œå°±éœ€è¦äº†è§£ä¸€ä¸‹â€œäº‹ä»¶æµâ€çš„æ¦‚å¿µã€‚<br><br>&emsp;&emsp;ä»€ä¹ˆæ˜¯äº‹ä»¶æµï¼šäº‹ä»¶æµæè¿°çš„æ˜¯ä»é¡µé¢ä¸­æ¥æ”¶äº‹ä»¶çš„é¡ºåº,DOM2çº§äº‹ä»¶æµåŒ…æ‹¬ä¸‹é¢å‡ ä¸ªé˜¶æ®µã€‚</p><ul><li>äº‹ä»¶æ•è·é˜¶æ®µ</li><li>å¤„äºç›®æ ‡é˜¶æ®µ</li><li>äº‹ä»¶å†’æ³¡é˜¶æ®µ</li></ul><p>&emsp;&emsp;addEventListenerï¼šaddEventListener æ˜¯DOM2 çº§äº‹ä»¶æ–°å¢çš„æŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºçš„æ“ä½œï¼Œè¿™ä¸ªæ–¹æ³•æ¥æ”¶3ä¸ªå‚æ•°ï¼šè¦å¤„ç†çš„äº‹ä»¶åã€ä½œä¸ºäº‹ä»¶å¤„ç†ç¨‹åºçš„å‡½æ•°å’Œä¸€ä¸ªå¸ƒå°”å€¼ã€‚æœ€åè¿™ä¸ªå¸ƒå°”å€¼å‚æ•°å¦‚æœæ˜¯trueï¼Œè¡¨ç¤ºåœ¨æ•è·é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼›å¦‚æœæ˜¯falseï¼Œè¡¨ç¤ºåœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºã€‚</p><ul><li><strong>IEåªæ”¯æŒäº‹ä»¶å†’æ³¡ã€‚</strong></li></ul><h2 id="3ã€å¦‚ä½•è®©äº‹ä»¶å…ˆå†’æ³¡åæ•è·"><a href="#3ã€å¦‚ä½•è®©äº‹ä»¶å…ˆå†’æ³¡åæ•è·" class="headerlink" title="3ã€å¦‚ä½•è®©äº‹ä»¶å…ˆå†’æ³¡åæ•è·"></a>3ã€å¦‚ä½•è®©äº‹ä»¶å…ˆå†’æ³¡åæ•è·</h2><p>&emsp;&emsp;åœ¨DOMæ ‡å‡†äº‹ä»¶æ¨¡å‹ä¸­ï¼Œæ˜¯å…ˆæ•è·åå†’æ³¡ã€‚ä½†æ˜¯å¦‚æœè¦å®ç°å…ˆå†’æ³¡åæ•è·çš„æ•ˆæœï¼Œå¯¹äºåŒä¸€ä¸ªäº‹ä»¶ï¼Œç›‘å¬æ•è·å’Œå†’æ³¡ï¼Œåˆ†åˆ«å¯¹åº”ç›¸åº”çš„å¤„ç†å‡½æ•°ï¼Œç›‘å¬åˆ°æ•è·äº‹ä»¶ï¼Œå…ˆæš‚ç¼“æ‰§è¡Œï¼Œç›´åˆ°å†’æ³¡äº‹ä»¶è¢«æ•è·åå†æ‰§è¡Œæ•è·ä¹‹é—´ã€‚</p><h2 id="4ã€calleeå’Œcallerçš„ä½œç”¨ä¸åŒºåˆ«"><a href="#4ã€calleeå’Œcallerçš„ä½œç”¨ä¸åŒºåˆ«" class="headerlink" title="4ã€calleeå’Œcallerçš„ä½œç”¨ä¸åŒºåˆ«"></a>4ã€calleeå’Œcallerçš„ä½œç”¨ä¸åŒºåˆ«</h2><p>é€’å½’<br><br>æˆ‘ä»¬å¯èƒ½ç”¨åˆ°ä¸€äº›å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œå³é€’å½’ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªè®¡ç®—é˜¶ä¹˜çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> x&lt;=<span class="number">1</span> ? <span class="number">1</span> : x*factorial(x<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œåå‘ç°å®ƒå¾ˆå¥½çš„å®Œæˆäº†æˆ‘ä»¬çš„è¦æ±‚ã€‚å¯æ˜¯è¿˜æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œä¸‡ä¸€å“ªå¤©æœ‰äººé‡æ„è¿™ä¸ªå‡½æ•°æ”¹äº†å‡½æ•°åå‘¢ï¼Ÿä¿®æ”¹ä¸æ–¹ä¾¿ç”šè‡³æ¼æ”¹ã€‚</p><p><strong>arguments.callee</strong></p><p>ä½¿ç”¨callee é¿å…hard code å‡½æ•°åã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> x&lt;=<span class="number">1</span> ? <span class="number">1</span> : x * <span class="built_in">arguments</span>.callee(x<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>calleeæ˜¯argumentså¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å‘ arguments å¯¹è±¡çš„å‡½æ•°ï¼Œå³å½“å‰å‡½æ•°ã€‚åœ¨ä¾‹å­ä¸­æ˜¯XXã€‚</li></ul><p><strong>caller</strong></p><p>å‡½æ•°å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å‘è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°ã€‚æ¯”å¦‚ A() è°ƒç”¨ B()ï¼Œ åˆ™åœ¨B()ä¸­ B.caller æŒ‡å‘A()ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(B.caller);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">B()</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><ul><li>æ˜¾ç„¶ï¼Œåªæœ‰å½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥å±æ€§æ‰ä¼šæœ‰å€¼ã€‚ä¸è¿‡å½“å‡½æ•°è¢«å…¨å±€è°ƒç”¨æ—¶ï¼Œè¯¥å±æ€§ä¸ºnullã€‚</li></ul><p><strong>calleeå’Œcallerç»“åˆ</strong></p><p>æˆ‘ä»¬åˆšæ‰åœ¨å‡½æ•°B() ä¸­ä½¿ç”¨äº† B.caller ã€‚è·Ÿä¸Šé¢é€’å½’ä¸€æ ·ï¼Œå°†æ¥å¦‚æœæœ‰äººé‡æ„æ”¹äº†å‡½æ•°åå‘¢ï¼Ÿ ä¸‹é¢ç”¨åˆšæ‰è¯´çš„ arguments.callee æ›¿æ¢ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™æ˜¯ä¸æ˜¯å¥½å¤šäº†ã€‚å†æ‰§è¡ŒA() ï¼Œå‘ç°è·Ÿåˆšæ‰çš„è¾“å‡ºä¸€æ ·ã€‚</p><h2 id="5ã€ç»™historyçš„replaceStateå’ŒpushStateè¡Œä¸ºæ·»åŠ ç›‘å¬äº‹ä»¶"><a href="#5ã€ç»™historyçš„replaceStateå’ŒpushStateè¡Œä¸ºæ·»åŠ ç›‘å¬äº‹ä»¶" class="headerlink" title="5ã€ç»™historyçš„replaceStateå’ŒpushStateè¡Œä¸ºæ·»åŠ ç›‘å¬äº‹ä»¶"></a>5ã€ç»™historyçš„replaceStateå’ŒpushStateè¡Œä¸ºæ·»åŠ ç›‘å¬äº‹ä»¶</h2><p>å…·ä½“åšæ³•ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _wr = <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> orig = history[type];</span><br><span class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> rv = orig.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">      <span class="keyword">var</span> e = <span class="keyword">new</span> Event(type);</span><br><span class="line">       e.arguments = <span class="built_in">arguments</span>;</span><br><span class="line">       <span class="built_in">window</span>.dispatchEvent(e);</span><br><span class="line">       <span class="keyword">return</span> rv;</span><br><span class="line">   &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"> history.pushState = _wr(<span class="string">'pushState'</span>);</span><br><span class="line"> history.replaceState = _wr(<span class="string">'replaceState'</span>);</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±åˆ›å»ºäº†2ä¸ªå…¨æ–°çš„äº‹ä»¶ï¼Œäº‹ä»¶åä¸ºpushStateå’ŒreplaceStateï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å…¨å±€ç›‘å¬ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'replaceState'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'THEY DID IT AGAIN! replaceState 111111'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'pushState'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'THEY DID IT AGAIN! pushState 2222222'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥ç›‘å¬åˆ°pushStateå’ŒreplaceStateè¡Œä¸ºã€‚</p><h1 id="äºŒã€è¿›é˜¶javascriptç¯‡"><a href="#äºŒã€è¿›é˜¶javascriptç¯‡" class="headerlink" title="äºŒã€è¿›é˜¶javascriptç¯‡"></a>äºŒã€è¿›é˜¶javascriptç¯‡</h1><h2 id="1ã€è‡ªå·±å®ç°ä¸€ä¸ªbindå‡½æ•°"><a href="#1ã€è‡ªå·±å®ç°ä¸€ä¸ªbindå‡½æ•°" class="headerlink" title="1ã€è‡ªå·±å®ç°ä¸€ä¸ªbindå‡½æ•°"></a>1ã€è‡ªå·±å®ç°ä¸€ä¸ªbindå‡½æ•°</h2><p><strong>åŸç†ï¼šé€šè¿‡applyæˆ–è€…callæ–¹æ³•æ¥å®ç°ã€‚</strong></p><p>(1)åˆå§‹ç‰ˆæœ¬</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span> (<span class="params">obj, arg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> context = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">var</span> tmpArg = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">newArg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newArgs = tmpArg.concat(<span class="built_in">Array</span>.prototype.slice.call(newArg))</span><br><span class="line">    <span class="keyword">return</span> context.apply(obj, newArgs)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2) è€ƒè™‘åˆ°åŸå‹é“¾<br>ä¸ºä»€ä¹ˆè¦è€ƒè™‘ï¼Ÿå› ä¸ºåœ¨new ä¸€ä¸ªbindè¿‡ç”Ÿæˆçš„æ–°å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»çš„æ¡ä»¶æ˜¯è¦ç»§æ‰¿åŸå‡½æ•°çš„åŸå‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span> (<span class="params">obj, arg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> context = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">var</span> tmpArg = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> newBind = <span class="function"><span class="keyword">function</span>(<span class="params">newArg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newArgs = tmpArg.concat(<span class="built_in">Array</span>.prototype.slice.call(newArg))</span><br><span class="line">    <span class="keyword">return</span> context.apply(obj, newArgs)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  </span><br><span class="line">  F.prototype = context.prototype;</span><br><span class="line">  <span class="comment">//è¿™é‡Œéœ€è¦ä¸€ä¸ªå¯„ç”Ÿç»„åˆç»§æ‰¿</span></span><br><span class="line">  newBind.prototype = <span class="keyword">new</span> F();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> newBind</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2ã€Macrotasks-å’Œ-Microtasks"><a href="#2ã€Macrotasks-å’Œ-Microtasks" class="headerlink" title="2ã€Macrotasks å’Œ Microtasks"></a>2ã€Macrotasks å’Œ Microtasks</h2><p>Macrotask å’Œ microtask éƒ½æ˜¯å±äºä¸Šè¿°çš„å¼‚æ­¥ä»»åŠ¡ä¸­çš„ä¸€ç§ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ä»–ä»¬åˆ†åˆ«æ˜¯å“ªäº› API ï¼š<br></p><ul><li><strong>macrotasks</strong>: <code>setTimeout</code>, <code>setInterval</code>, <code>setImmediate</code>, <code>I/O</code>, <code>UI rendering</code></li><li><strong>microtasks</strong>: <code>process.nextTick</code>, <code>Promises</code>, <code>Object.observe</code>(åºŸå¼ƒ), <code>MutationObserver</code></li></ul><p>&emsp;&emsp;<code>setTimeout</code> çš„ macrotask ,å’Œ <code>Promise</code> çš„ microtask æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä»£ç æ¥å±•ç°ä»–ä»¬çš„ä¸åŒç‚¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'script start'</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'setTimeout'</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise1'</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise2'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script end'</span>);</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œ<code>setTimeout</code>çš„å»¶æ—¶ä¸º0ï¼Œè€Œ<code>Promise.resolve()</code>ä¹Ÿæ˜¯è¿”å›ä¸€ä¸ªè¢«<code>resolve</code>äº†<code>promise</code>å¯¹è±¡ï¼Œå³è¿™é‡Œçš„<code>then</code>æ–¹æ³•ä¸­çš„å‡½æ•°ä¹Ÿæ˜¯ç›¸å½“äºå¼‚æ­¥çš„ç«‹å³æ‰§è¡Œä»»åŠ¡ï¼Œé‚£ä¹ˆä»–ä»¬åˆ°åº•æ˜¯è°åœ¨å‰è°åœ¨åï¼Ÿ<br></p><p>æˆ‘ä»¬çœ‹çœ‹æœ€ç»ˆçš„è¿è¡Œç»“æœï¼ˆnode 7.7.3)ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"script start"</span></span><br><span class="line"><span class="string">"script end"</span></span><br><span class="line"><span class="string">"promise1"</span></span><br><span class="line"><span class="string">"promise2"</span></span><br><span class="line"><span class="string">"setTimeout"</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„è¿è¡Œç»“æœæ˜¯Promiseçš„ç«‹å³è¿”å›çš„å¼‚æ­¥ä»»åŠ¡ä¼šä¼˜å…ˆäºsetTimeoutå»¶æ—¶ä¸º0çš„ä»»åŠ¡æ‰§è¡Œã€‚<br></p><p>åŸå› æ˜¯ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸º macrotasks å’Œ microtasksï¼Œè€ŒPromiseä¸­çš„thenæ–¹æ³•çš„å‡½æ•°ä¼šè¢«æ¨å…¥ microtasks é˜Ÿåˆ—ï¼Œè€ŒsetTimeoutçš„ä»»åŠ¡ä¼šè¢«æ¨å…¥ macrotasks é˜Ÿåˆ—ã€‚åœ¨æ¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œmacrotask åªä¼šæå–ä¸€ä¸ªæ‰§è¡Œï¼Œè€Œ microtask ä¼šä¸€ç›´æå–ï¼Œç›´åˆ° microtasks é˜Ÿåˆ—æ¸…ç©ºã€‚<br></p><p><strong>æ³¨ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œmacrotask queues æˆ‘ä»¬ä¼šç›´æ¥ç§°ä¸º task queuesï¼Œåªæœ‰ microtask queues æ‰ä¼šç‰¹åˆ«æŒ‡æ˜ã€‚</strong><br></p><p>é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘çš„æŸä¸ª microtask ä»»åŠ¡åˆæ¨å…¥äº†ä¸€ä¸ªä»»åŠ¡è¿›å…¥ microtasks é˜Ÿåˆ—ï¼Œé‚£ä¹ˆåœ¨ä¸»çº¿ç¨‹å®Œæˆè¯¥ä»»åŠ¡ä¹‹åï¼Œä»ç„¶ä¼šç»§ç»­è¿è¡Œ microtasks ä»»åŠ¡ç›´åˆ°ä»»åŠ¡é˜Ÿåˆ—è€—å°½ã€‚<br></p><p><strong>è€Œäº‹ä»¶å¾ªç¯æ¯æ¬¡åªä¼šå…¥æ ˆä¸€ä¸ª macrotask ï¼Œä¸»çº¿ç¨‹æ‰§è¡Œå®Œè¯¥ä»»åŠ¡ååˆä¼šå…ˆæ£€æŸ¥ microtasks é˜Ÿåˆ—å¹¶å®Œæˆé‡Œé¢çš„æ‰€æœ‰ä»»åŠ¡åå†æ‰§è¡Œ macrotask</strong></p><h2 id="3ã€æ‰‹å†™å®ç°Promise"><a href="#3ã€æ‰‹å†™å®ç°Promise" class="headerlink" title="3ã€æ‰‹å†™å®ç°Promise"></a>3ã€æ‰‹å†™å®ç°Promise</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// myPromise </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Promise</span>(<span class="params">excutor</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> _this = <span class="keyword">this</span>;</span><br><span class="line">_this.status = <span class="string">'pending'</span>;</span><br><span class="line">_this.value = <span class="literal">undefined</span>;</span><br><span class="line">_this.reason = <span class="literal">undefined</span>;</span><br><span class="line">_this.onResolvedCallbacks = []; <span class="comment">// å­˜æ”¾thenæˆåŠŸçš„å›è°ƒ</span></span><br><span class="line">_this.onRejectedCallbacks = []; <span class="comment">// å­˜æ”¾thenå¤±è´¥çš„å›è°ƒ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(_this.status === <span class="string">'pending'</span>) &#123;</span><br><span class="line">_this.status = <span class="string">'resolved'</span>;</span><br><span class="line">_this.value = val;</span><br><span class="line"></span><br><span class="line">_this.onResolvedCallbacks.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">resolveFn</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(resolveFn) &#123;</span><br><span class="line">resolveFn()</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reject</span>(<span class="params">reasonValue</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(_this.status === <span class="string">'pending'</span>) &#123;</span><br><span class="line">_this.status = <span class="string">'rejected'</span>;</span><br><span class="line">_this.reason = reasonValue;</span><br><span class="line"></span><br><span class="line">_this.onRejectedCallbacks.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">rejectFn</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(rejectFn) &#123;</span><br><span class="line">rejectFn()</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">excutor(resolve, reject)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">onFulfilled, onRjected</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//æˆåŠŸå’Œå¤±è´¥é»˜è®¤ä¸ä¼ ç»™ä¸€ä¸ªå‡½æ•°ï¼Œè§£å†³äº†é—®é¢˜8</span></span><br><span class="line">    onFulfilled = <span class="keyword">typeof</span> onFulfilled === <span class="string">'function'</span> ? onFulfilled : <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">    onRjected = <span class="keyword">typeof</span> onRjected === <span class="string">'function'</span> ? onRjected : <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> _this = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">let</span> promise2; <span class="comment">//è¿”å›çš„promise</span></span><br><span class="line">    <span class="keyword">if</span> (_this.status === <span class="string">'resolved'</span>) &#123;</span><br><span class="line">        promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// å½“æˆåŠŸæˆ–è€…å¤±è´¥æ‰§è¡Œæ—¶æœ‰å¼‚å¸¸é‚£ä¹ˆè¿”å›çš„promiseåº”è¯¥å¤„äºå¤±è´¥çŠ¶æ€</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">// æ ¹æ®è§„èŒƒè®©é‚£ä¿©å®¶ä¼™å¼‚æ­¥æ‰§è¡Œ</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">let</span> x = onFulfilled(_this.value);<span class="comment">//è¿™é‡Œè§£é‡Šè¿‡äº†</span></span><br><span class="line">                    <span class="comment">// å†™ä¸€ä¸ªæ–¹æ³•ç»Ÿä¸€å¤„ç†é—®é¢˜1-7</span></span><br><span class="line">                    resolvePromise(promise2, x, resolve, reject);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                    reject(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (_this.status === <span class="string">'rejected'</span>) &#123;</span><br><span class="line">        promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">let</span> x = onRjected(_this.reason);</span><br><span class="line">                    resolvePromise(promise2, x, resolve, reject);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                    reject(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (_this.status === <span class="string">'pending'</span>) &#123;</span><br><span class="line">        promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">            _this.onResolvedCallbacks.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">let</span> x = onFulfilled(_this.value);</span><br><span class="line">                        resolvePromise(promise2, x, resolve, reject);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                        reject(e)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;);</span><br><span class="line">            _this.onRejectedCallbacks.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">let</span> x = onRjected(_this.reason);</span><br><span class="line">                        resolvePromise(promise2, x, resolve, reject);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                        reject(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> promise2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolvePromise</span>(<span class="params">promise2, x, resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ¥å—å››ä¸ªå‚æ•°ï¼Œæ–°Promiseã€è¿”å›å€¼ï¼ŒæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒ</span></span><br><span class="line">    <span class="comment">// æœ‰å¯èƒ½è¿™é‡Œè¿”å›çš„xæ˜¯åˆ«äººçš„promise</span></span><br><span class="line">    <span class="comment">// å°½å¯èƒ½å…è®¸å…¶ä»–ä¹±å†™</span></span><br><span class="line">    <span class="keyword">if</span> (promise2 === x) &#123; <span class="comment">//è¿™é‡Œåº”è¯¥æŠ¥ä¸€ä¸ªç±»å‹é”™è¯¯ï¼Œæ¥è§£å†³é—®é¢˜4</span></span><br><span class="line">        <span class="keyword">return</span> reject(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'å¾ªç¯å¼•ç”¨äº†'</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// çœ‹xæ˜¯ä¸æ˜¯ä¸€ä¸ªpromise,promiseåº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">let</span> called; <span class="comment">// è¡¨ç¤ºæ˜¯å¦è°ƒç”¨è¿‡æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œç”¨æ¥è§£å†³é—®é¢˜7</span></span><br><span class="line">    <span class="comment">//ä¸‹é¢åˆ¤æ–­ä¸Šä¸€æ¬¡thenè¿”å›çš„æ˜¯æ™®é€šå€¼è¿˜æ˜¯å‡½æ•°ï¼Œæ¥è§£å†³é—®é¢˜1ã€2</span></span><br><span class="line">    <span class="keyword">if</span> (x !== <span class="literal">null</span> &amp;&amp; (<span class="keyword">typeof</span> x === <span class="string">'object'</span> || <span class="keyword">typeof</span> x === <span class="string">'function'</span>)) &#123;</span><br><span class="line">        <span class="comment">// å¯èƒ½æ˜¯promise &#123;&#125;,çœ‹è¿™ä¸ªå¯¹è±¡ä¸­æ˜¯å¦æœ‰thenæ–¹æ³•ï¼Œå¦‚æœæœ‰thenæˆ‘å°±è®¤ä¸ºä»–æ˜¯promiseäº†</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> then = x.then;<span class="comment">// ä¿å­˜ä¸€ä¸‹xçš„thenæ–¹æ³•</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> then === <span class="string">'function'</span>) &#123;</span><br><span class="line">                <span class="comment">// æˆåŠŸ</span></span><br><span class="line">                <span class="comment">//è¿™é‡Œçš„yä¹Ÿæ˜¯å®˜æ–¹è§„èŒƒï¼Œå¦‚æœè¿˜æ˜¯promiseï¼Œå¯ä»¥å½“ä¸‹ä¸€æ¬¡çš„xä½¿ç”¨</span></span><br><span class="line">                <span class="comment">//ç”¨callæ–¹æ³•ä¿®æ”¹æŒ‡é’ˆä¸ºxï¼Œå¦åˆ™thisæŒ‡å‘window</span></span><br><span class="line">                then.call(x, <span class="function"><span class="keyword">function</span> (<span class="params">y</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (called) <span class="keyword">return</span> <span class="comment">//å¦‚æœè°ƒç”¨è¿‡å°±returnæ‰</span></span><br><span class="line">                    called = <span class="literal">true</span></span><br><span class="line">                    <span class="comment">// yå¯èƒ½è¿˜æ˜¯ä¸€ä¸ªpromiseï¼Œåœ¨å»è§£æç›´åˆ°è¿”å›çš„æ˜¯ä¸€ä¸ªæ™®é€šå€¼</span></span><br><span class="line">                    resolvePromise(promise2, y, resolve, reject)<span class="comment">//é€’å½’è°ƒç”¨ï¼Œè§£å†³äº†é—®é¢˜6</span></span><br><span class="line">                &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123; <span class="comment">//å¤±è´¥</span></span><br><span class="line">                    <span class="keyword">if</span> (called) <span class="keyword">return</span></span><br><span class="line">                    called = <span class="literal">true</span></span><br><span class="line">                    reject(err);</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                resolve(x)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            <span class="keyword">if</span> (called) <span class="keyword">return</span></span><br><span class="line">            called = <span class="literal">true</span>;</span><br><span class="line">            reject(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// è¯´æ˜æ˜¯ä¸€ä¸ªæ™®é€šå€¼1</span></span><br><span class="line">        resolve(x); <span class="comment">// è¡¨ç¤ºæˆåŠŸäº†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4ã€Function-proto-getPrototypeOf-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#4ã€Function-proto-getPrototypeOf-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="4ã€Function.proto(getPrototypeOf)æ˜¯ä»€ä¹ˆï¼Ÿ"></a>4ã€Function.<em>proto</em>(getPrototypeOf)æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>è·å–ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ï¼Œåœ¨chromeä¸­å¯ä»¥é€šè¿‡<strong>proto</strong>çš„å½¢å¼ï¼Œæˆ–è€…åœ¨ES6ä¸­å¯ä»¥é€šè¿‡Object.getPrototypeOfçš„å½¢å¼ã€‚<br></p><p>é‚£ä¹ˆFunction.protoæ˜¯ä»€ä¹ˆä¹ˆï¼Ÿä¹Ÿå°±æ˜¯è¯´Functionç”±ä»€ä¹ˆå¯¹è±¡ç»§æ‰¿è€Œæ¥ï¼Œæˆ‘ä»¬æ¥åšå¦‚ä¸‹åˆ¤åˆ«ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.__proto__==<span class="built_in">Object</span>.prototype <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Function</span>.__proto__.__proto__==<span class="built_in">Object</span>.prototype <span class="comment">//true</span></span><br><span class="line"><span class="built_in">Function</span>.__proto__==<span class="built_in">Function</span>.prototype<span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°Functionçš„åŸå‹ä¹Ÿæ˜¯Functionã€‚<br></p><p>æˆ‘ä»¬ç”¨å›¾å¯ä»¥æ¥æ˜ç¡®è¿™ä¸ªå…³ç³»ï¼š</p><p><img src="/images/jsImg_1.png"></p><ul><li>æ­¤å¤„å€Ÿå›¾äº[<a href="https://juejin.im/post/5b44a485e51d4519945fb6b7" target="_blank" rel="noopener">https://juejin.im/post/5b44a485e51d4519945fb6b7</a>]</li></ul><h2 id="5ã€è§‚å¯Ÿè€…æˆ–è®¢é˜…æ¨¡å¼çš„ç®€å•å®ç°"><a href="#5ã€è§‚å¯Ÿè€…æˆ–è®¢é˜…æ¨¡å¼çš„ç®€å•å®ç°" class="headerlink" title="5ã€è§‚å¯Ÿè€…æˆ–è®¢é˜…æ¨¡å¼çš„ç®€å•å®ç°"></a>5ã€è§‚å¯Ÿè€…æˆ–è®¢é˜…æ¨¡å¼çš„ç®€å•å®ç°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Events</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.on=<span class="function"><span class="keyword">function</span>(<span class="params">eventName,callBack</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!<span class="keyword">this</span>.handles)&#123;</span><br><span class="line">    <span class="keyword">this</span>.handles=&#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(!<span class="keyword">this</span>.handles[eventName])&#123;</span><br><span class="line">    <span class="keyword">this</span>.handles[eventName]=[];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.handles[eventName].push(callBack);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.emit=<span class="function"><span class="keyword">function</span>(<span class="params">eventName,obj</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(<span class="keyword">this</span>.handles[eventName])&#123;</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;o&lt;<span class="keyword">this</span>.handles[eventName].length;i++)&#123;</span><br><span class="line">       <span class="keyword">this</span>.handles[eventName][i](obj);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å®šä¹‰äº†Eventsï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹æ¥è°ƒç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> events=<span class="keyword">new</span> Events();</span><br><span class="line">events.on(<span class="string">'say'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'Hello'</span>,nama)</span><br><span class="line">&#125;);</span><br><span class="line">events.emit(<span class="string">'say'</span>,<span class="string">'Jony yu'</span>);</span><br><span class="line"><span class="comment">//ç»“æœå°±æ˜¯é€šè¿‡emitè°ƒç”¨ä¹‹åï¼Œè¾“å‡ºäº†Jony yu</span></span><br></pre></td></tr></table></figure><h2 id="6ã€è£…é¥°å™¨ï¼ˆDecoratorsï¼‰"><a href="#6ã€è£…é¥°å™¨ï¼ˆDecoratorsï¼‰" class="headerlink" title="6ã€è£…é¥°å™¨ï¼ˆDecoratorsï¼‰"></a>6ã€è£…é¥°å™¨ï¼ˆDecoratorsï¼‰</h2><blockquote><p>æˆ‘ä»¬çŸ¥é“ç»§æ‰¿æ¨¡å¼æ˜¯ä¸°å¯Œå­å…ƒç´ â€œå†…æ¶µâ€çš„ä¸€ç§é‡è¦æ–¹å¼ï¼Œä¸ç®¡æ˜¯ç»§æ‰¿æ¥å£è¿˜æ˜¯å­ç±»ç»§æ‰¿åŸºç±»ã€‚è€Œè£…é¥°è€…æ¨¡å¼å¯ä»¥åœ¨ä¸æ”¹å˜ç»§æ‰¿å…³ç³»çš„å‰æä¸‹ï¼ŒåŒ…è£…å…ˆæœ‰çš„æ¨¡å—ï¼Œä½¿å…¶å†…æ¶µæ›´åŠ ä¸°å¯Œï¼Œå¹¶ä¸ä¼šå½±å“åˆ°åŸæ¥çš„åŠŸèƒ½ã€‚ä¸ç»§æ‰¿ç›¸æ¯”ï¼Œæ›´åŠ çš„çµæ´»</p></blockquote><p><strong>(1)ã€ç±»æ–¹æ³•çš„è£…é¥°å™¨</strong></p><p>ä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹ç”¨è£…é¥°å™¨æ¥ä¿®é¥°å‡½æ•°ï¼Œé¦–å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> temple;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">target, key, descriptor</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;key&#125;</span> was called!`</span>);</span><br><span class="line">  temple = target;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span> </span>&#123;</span><br><span class="line">    @log</span><br><span class="line">    foo() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Do something'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> P()</span><br><span class="line">p.foo()</span><br><span class="line"><span class="built_in">console</span>.log(P.prototype === temple) <span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æ˜¯å®ä¾‹æ–¹æ³•fooä¸­æˆ‘ä»¬ç”¨logå‡½æ•°ä¿®é¥°ï¼Œlogå‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œé€šè¿‡P.prototype === temple(target)å¯ä»¥åˆ¤æ–­ï¼Œåœ¨ç±»çš„å®ä¾‹å‡½æ•°çš„è£…é¥°å™¨å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç±»çš„åŸå‹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå‡½æ•°åæœ¬èº«ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºè¯¥å‡½æ•°çš„æè¿°å±æ€§ã€‚</p><p>å…·ä½“æ€»ç»“å¦‚ä¸‹ï¼Œå¯¹äºç±»çš„å‡½æ•°çš„è£…é¥°å™¨å‡½æ•°ï¼Œä¾æ¬¡æ¥å—çš„å‚æ•°ä¸ºï¼š</p><ul><li>targetï¼šå¦‚æœä¿®é¥°çš„æ˜¯ç±»çš„å®ä¾‹å‡½æ•°ï¼Œé‚£ä¹ˆtargetå°±æ˜¯ç±»çš„åŸå‹ã€‚å¦‚æœä¿®é¥°çš„æ˜¯ç±»çš„é™æ€å‡½æ•°ï¼Œé‚£ä¹ˆtargetå°±æ˜¯ç±»æœ¬èº«ã€‚</li><li>keyï¼š è¯¥å‡½æ•°çš„å‡½æ•°åã€‚</li><li>descriptorï¼šè¯¥å‡½æ•°çš„æè¿°å±æ€§ï¼Œæ¯”å¦‚ configurableã€valueã€enumerableç­‰ã€‚</li></ul><p>ä»ä¸Šè¿°çš„ä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç”¨è£…é¥°å™¨æ¥ä¿®é¥°ç›¸åº”çš„ç±»çš„å‡½æ•°ååˆ†æ–¹ä¾¿ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@log</span><br><span class="line">foo() &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>(2)ã€ç±»çš„è£…é¥°å™¨</strong></p><p>è£…é¥°å‡½æ•°ä¹Ÿå¯ä»¥ç›´æ¥ä¿®é¥°ç±»ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> temple</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(target);</span><br><span class="line">   temple = target</span><br><span class="line">&#125;</span><br><span class="line">@foo</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span></span>&#123;</span><br><span class="line">   <span class="keyword">constructor</span>()&#123;</span><br><span class="line">     </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> P();</span><br><span class="line">temple === P <span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>å½“è£…é¥°å‡½æ•°ç›´æ¥ä¿®é¥°ç±»çš„æ—¶å€™ï¼Œè£…é¥°å‡½æ•°æ¥å—å”¯ä¸€çš„å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯è¯¥è¢«ä¿®é¥°ç±»æœ¬èº«ã€‚ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼Œè¾“å‡ºçš„targetå°±æ˜¯ç±»Pçš„æœ¬èº«ã€‚</p><p>æ­¤å¤–ï¼Œåœ¨ä¿®é¥°ç±»çš„æ—¶å€™ï¼Œå¦‚æœè£…é¥°å‡½æ•°æœ‰è¿”å›å€¼ï¼Œè¯¥è¿”å›å€¼ä¼šé‡æ–°å®šä¹‰è¿™ä¸ªç±»ï¼Œä¹Ÿå°±æ˜¯è¯´å½“è£…é¥°å‡½æ•°æœ‰è¿”å›å€¼æ—¶ï¼Œå…¶å®æ˜¯ç”Ÿæˆäº†ä¸€ä¸ªæ–°ç±»ï¼Œè¯¥æ–°ç±»é€šè¿‡è¿”å›å€¼æ¥å®šä¹‰ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">target</span></span>&#123;</span><br><span class="line">      name = <span class="string">'Jony'</span>;</span><br><span class="line">      sayHello()&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"Hello "</span>+ <span class="keyword">this</span>.name)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">@foo</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span></span>&#123;</span><br><span class="line">   <span class="keyword">constructor</span>()&#123;</span><br><span class="line">     </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> P();</span><br><span class="line">p.sayHello(); <span class="comment">// ä¼šè¾“å‡ºHello Jony</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œå½“è£…é¥°å‡½æ•°fooæœ‰è¿”å›å€¼æ—¶ï¼Œå®é™…ä¸ŠPç±»å·²ç»è¢«è¿”å›å€¼æ‰€ä»£è¡¨çš„æ–°ç±»æ‰€ä»£æ›¿ï¼Œå› æ­¤Pçš„å®ä¾‹pæ‹¥æœ‰sayHelloæ–¹æ³•ã€‚</p><p><strong>(3)ã€ç±»çš„å±æ€§çš„è£…é¥°å™¨</strong></p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ç±»çš„å±æ€§çš„è£…é¥°å™¨,è£…é¥°å‡½æ•°ä¿®é¥°ç±»çš„å±æ€§æ—¶ï¼Œåœ¨ç±»å®ä¾‹åŒ–çš„æ—¶å€™è°ƒç”¨å±æ€§çš„è£…é¥°å‡½æ•°ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">target,name</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"target is"</span>,target);</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"name is"</span>,name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span></span>&#123;</span><br><span class="line">   @foo</span><br><span class="line">   name = <span class="string">'Jony'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> P();</span><br><span class="line"><span class="comment">//ä¼šä¾æ¬¡è¾“å‡º target is f P()  name is Jony</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯¹äºç±»çš„å±æ€§çš„è£…é¥°å™¨å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå¯¹äºé™æ€å±æ€§è€Œè¨€ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»æœ¬èº«ï¼Œå¯¹äºå®ä¾‹å±æ€§è€Œè¨€ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»çš„åŸå‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æŒ‡å±æ€§çš„åå­—ã€‚</p><p><strong>(4)ã€ç±»å‡½æ•°å‚æ•°çš„è£…é¥°å™¨</strong></p><p>æ¥ç€æ¥çœ‹ç±»å‡½æ•°å‚æ•°çš„è£…é¥°å™¨ï¼Œç±»å‡½æ•°çš„å‚æ•°è£…é¥°å™¨å¯ä»¥ä¿®é¥°ç±»çš„æ„å»ºå‡½æ•°ä¸­çš„å‚æ•°ï¼Œä»¥åŠç±»ä¸­å…¶ä»–æ™®é€šå‡½æ•°ä¸­çš„å‚æ•°ã€‚è¯¥è£…é¥°å™¨åœ¨ç±»çš„æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™æ‰§è¡Œï¼Œä¸‹é¢æ¥çœ‹å®ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">target,key,index</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"target is"</span>,target);</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"key is"</span>,key);</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"index is"</span>,index)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">P</span></span>&#123;</span><br><span class="line">   test(@foo a)&#123;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> P();</span><br><span class="line">p.test(<span class="string">"Hello Jony"</span>)</span><br><span class="line"><span class="comment">// ä¾æ¬¡è¾“å‡º f P() , test , 0</span></span><br></pre></td></tr></table></figure><p>ç±»å‡½æ•°å‚æ•°çš„è£…é¥°å™¨å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºç±»æœ¬èº«ï¼Œç±»ä¸­è¯¥è¢«ä¿®é¥°çš„å‡½æ•°æœ¬èº«ï¼Œä»¥åŠè¢«ä¿®é¥°çš„å‚æ•°åœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•å€¼ã€‚ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼Œä¼šä¾æ¬¡è¾“å‡º f P() ã€testå’Œ0ã€‚å†æ¬¡æ˜ç¡®ä¸€ä¸‹ä¿®é¥°å‡½æ•°å‚æ•°çš„è£…é¥°å™¨å‡½æ•°ä¸­çš„å‚æ•°å«ä¹‰ï¼š</p><ul><li>targetï¼š ç±»æœ¬èº«</li><li>keyï¼šè¯¥å‚æ•°æ‰€åœ¨çš„å‡½æ•°çš„å‡½æ•°å</li><li>indexï¼š è¯¥å‚æ•°åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•å€¼</li></ul><p>ä»ä¸Šé¢çš„Typescritä¸­åœ¨åŸºç±»ä¸­å¸¸ç”¨çš„è£…é¥°å™¨åï¼Œæˆ‘ä»¬å‘ç°ï¼š</p><p><strong>è£…é¥°å™¨å¯ä»¥èµ·åˆ°åˆ†ç¦»å¤æ‚é€»è¾‘çš„åŠŸèƒ½ï¼Œä¸”ä½¿ç”¨ä¸Šæå…¶ç®€å•æ–¹ä¾¿ã€‚ä¸ç»§æ‰¿ç›¸æ¯”ï¼Œä¹Ÿæ›´åŠ çµæ´»ï¼Œå¯ä»¥ä»è£…é¥°ç±»ï¼Œåˆ°è£…é¥°ç±»å‡½æ•°çš„å‚æ•°ï¼Œå¯ä»¥è¯´æ­¦è£…åˆ°äº†â€œç‰™é½¿â€ã€‚</strong></p><h1 id="ä¸‰ã€httpã€htmlå’Œæµè§ˆå™¨ç¯‡"><a href="#ä¸‰ã€httpã€htmlå’Œæµè§ˆå™¨ç¯‡" class="headerlink" title="ä¸‰ã€httpã€htmlå’Œæµè§ˆå™¨ç¯‡"></a>ä¸‰ã€httpã€htmlå’Œæµè§ˆå™¨ç¯‡</h1><h2 id="1ã€httpå’Œhttps"><a href="#1ã€httpå’Œhttps" class="headerlink" title="1ã€httpå’Œhttps"></a>1ã€httpå’Œhttps</h2><p>httpsçš„SSLåŠ å¯†æ˜¯åœ¨ä¼ è¾“å±‚å®ç°çš„ã€‚</p><p><strong>(1)httpå’Œhttpsçš„åŸºæœ¬æ¦‚å¿µ</strong></p><ul><li><p>http: è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ï¼ˆTCPï¼‰ï¼Œç”¨äºä»WWWæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ è¾“åè®®ï¼Œå®ƒå¯ä»¥ä½¿æµè§ˆå™¨æ›´åŠ é«˜æ•ˆï¼Œä½¿ç½‘ç»œä¼ è¾“å‡å°‘ã€‚</p></li><li><p>https: æ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œç®€å•è®²æ˜¯HTTPçš„å®‰å…¨ç‰ˆï¼Œå³HTTPä¸‹åŠ å…¥SSLå±‚ï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLï¼Œå› æ­¤åŠ å¯†çš„è¯¦ç»†å†…å®¹å°±éœ€è¦SSLã€‚</p></li><li><p>httpsåè®®çš„ä¸»è¦ä½œç”¨æ˜¯ï¼šå»ºç«‹ä¸€ä¸ªä¿¡æ¯å®‰å…¨é€šé“ï¼Œæ¥ç¡®ä¿æ•°ç»„çš„ä¼ è¾“ï¼Œç¡®ä¿ç½‘ç«™çš„çœŸå®æ€§ã€‚</p></li></ul><p><strong>(2)httpå’Œhttpsçš„åŒºåˆ«ï¼Ÿ</strong></p><ul><li><p>httpä¼ è¾“çš„æ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œä¹Ÿå°±æ˜¯æ˜æ–‡çš„ï¼Œç½‘æ™¯å…¬å¸è®¾ç½®äº†SSLåè®®æ¥å¯¹httpåè®®ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œç®€å•æ¥è¯´httpsåè®®æ˜¯ç”±httpå’Œsslåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“å’Œèº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯”httpåè®®çš„å®‰å…¨æ€§æ›´é«˜ã€‚<br>ä¸»è¦çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p></li><li><p>Httpsåè®®éœ€è¦caè¯ä¹¦ï¼Œè´¹ç”¨è¾ƒé«˜ã€‚</p></li><li><p>httpæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttpsåˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„sslåŠ å¯†ä¼ è¾“åè®®ã€‚</p></li><li><p>ä½¿ç”¨ä¸åŒçš„é“¾æ¥æ–¹å¼ï¼Œç«¯å£ä¹Ÿä¸åŒï¼Œä¸€èˆ¬è€Œè¨€ï¼Œhttpåè®®çš„ç«¯å£ä¸º80ï¼Œhttpsçš„ç«¯å£ä¸º443</p></li><li><p>httpçš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼›HTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯”httpåè®®å®‰å…¨ã€‚</p></li></ul><p><strong>(3)httpsåè®®çš„å·¥ä½œåŸç†</strong></p><p>å®¢æˆ·ç«¯åœ¨ä½¿ç”¨HTTPSæ–¹å¼ä¸WebæœåŠ¡å™¨é€šä¿¡æ—¶æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ã€‚</p><ul><li><p>å®¢æˆ·ä½¿ç”¨https urlè®¿é—®æœåŠ¡å™¨ï¼Œåˆ™è¦æ±‚web æœåŠ¡å™¨å»ºç«‹sslé“¾æ¥ã€‚</p></li><li><p>webæœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ä¹‹åï¼Œä¼šå°†ç½‘ç«™çš„è¯ä¹¦ï¼ˆè¯ä¹¦ä¸­åŒ…å«äº†å…¬é’¥ï¼‰ï¼Œè¿”å›æˆ–è€…è¯´ä¼ è¾“ç»™å®¢æˆ·ç«¯ã€‚</p></li><li><p>å®¢æˆ·ç«¯å’ŒwebæœåŠ¡å™¨ç«¯å¼€å§‹åå•†SSLé“¾æ¥çš„å®‰å…¨ç­‰çº§ï¼Œä¹Ÿå°±æ˜¯åŠ å¯†ç­‰çº§ã€‚</p></li><li><p>å®¢æˆ·ç«¯æµè§ˆå™¨é€šè¿‡åŒæ–¹åå•†ä¸€è‡´çš„å®‰å…¨ç­‰çº§ï¼Œå»ºç«‹ä¼šè¯å¯†é’¥ï¼Œç„¶åé€šè¿‡ç½‘ç«™çš„å…¬é’¥æ¥åŠ å¯†ä¼šè¯å¯†é’¥ï¼Œå¹¶ä¼ é€ç»™ç½‘ç«™ã€‚</p></li><li><p>webæœåŠ¡å™¨é€šè¿‡è‡ªå·±çš„ç§é’¥è§£å¯†å‡ºä¼šè¯å¯†é’¥ã€‚</p></li><li><p>webæœåŠ¡å™¨é€šè¿‡ä¼šè¯å¯†é’¥åŠ å¯†ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡ã€‚</p></li></ul><p><strong>(4)httpsåè®®çš„ä¼˜ç‚¹</strong></p><ul><li><p>ä½¿ç”¨HTTPSåè®®å¯è®¤è¯ç”¨æˆ·å’ŒæœåŠ¡å™¨ï¼Œç¡®ä¿æ•°æ®å‘é€åˆ°æ­£ç¡®çš„å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ï¼›</p></li><li><p>HTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œè¦æ¯”httpåè®®å®‰å…¨ï¼Œå¯é˜²æ­¢æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸è¢«çªƒå–ã€æ”¹å˜ï¼Œç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ã€‚</p></li><li><p>HTTPSæ˜¯ç°è¡Œæ¶æ„ä¸‹æœ€å®‰å…¨çš„è§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶ä¸æ˜¯ç»å¯¹å®‰å…¨ï¼Œä½†å®ƒå¤§å¹…å¢åŠ äº†ä¸­é—´äººæ”»å‡»çš„æˆæœ¬ã€‚</p></li><li><p>è°·æ­Œæ›¾åœ¨2014å¹´8æœˆä»½è°ƒæ•´æœç´¢å¼•æ“ç®—æ³•ï¼Œå¹¶ç§°â€œæ¯”èµ·åŒç­‰HTTPç½‘ç«™ï¼Œé‡‡ç”¨HTTPSåŠ å¯†çš„ç½‘ç«™åœ¨æœç´¢ç»“æœä¸­çš„æ’åå°†ä¼šæ›´é«˜â€ã€‚</p></li></ul><p><strong>(5)httpsåè®®çš„ç¼ºç‚¹</strong></p><ul><li><p>httpsæ¡æ‰‹é˜¶æ®µæ¯”è¾ƒè´¹æ—¶ï¼Œä¼šä½¿é¡µé¢åŠ è½½æ—¶é—´å»¶é•¿50%ï¼Œå¢åŠ 10%~20%çš„è€—ç”µã€‚</p></li><li><p>httpsç¼“å­˜ä¸å¦‚httpé«˜æ•ˆï¼Œä¼šå¢åŠ æ•°æ®å¼€é”€ã€‚</p></li><li><p>SSLè¯ä¹¦ä¹Ÿéœ€è¦é’±ï¼ŒåŠŸèƒ½è¶Šå¼ºå¤§çš„è¯ä¹¦è´¹ç”¨è¶Šé«˜ã€‚</p></li><li><p>SSLè¯ä¹¦éœ€è¦ç»‘å®šIPï¼Œä¸èƒ½å†åŒä¸€ä¸ªipä¸Šç»‘å®šå¤šä¸ªåŸŸåï¼Œipv4èµ„æºæ”¯æŒä¸äº†è¿™ç§æ¶ˆè€—ã€‚</p></li></ul><h2 id="2ã€http2-0"><a href="#2ã€http2-0" class="headerlink" title="2ã€http2.0"></a>2ã€http2.0</h2><p>é¦–å…ˆè¡¥å……ä¸€ä¸‹ï¼Œhttpå’Œhttpsçš„åŒºåˆ«ï¼Œç›¸æ¯”äºhttp,httpsæ˜¯åŸºäºsslåŠ å¯†çš„httpåè®®<br>ç®€è¦æ¦‚æ‹¬ï¼šhttp2.0æ˜¯åŸºäº1999å¹´å‘å¸ƒçš„http1.0ä¹‹åçš„é¦–æ¬¡æ›´æ–°ã€‚</p><ul><li>æå‡è®¿é—®é€Ÿåº¦ï¼ˆå¯ä»¥å¯¹äºï¼Œè¯·æ±‚èµ„æºæ‰€éœ€æ—¶é—´æ›´å°‘ï¼Œè®¿é—®é€Ÿåº¦æ›´å¿«ï¼Œç›¸æ¯”http1.0ï¼‰</li><li>å…è®¸å¤šè·¯å¤ç”¨ï¼šå¤šè·¯å¤ç”¨å…è®¸åŒæ—¶é€šè¿‡å•ä¸€çš„HTTP/2è¿æ¥å‘é€å¤šé‡è¯·æ±‚-å“åº”ä¿¡æ¯ã€‚æ”¹å–„äº†ï¼šåœ¨http1.1ä¸­ï¼Œæµè§ˆå™¨å®¢æˆ·ç«¯åœ¨åŒä¸€æ—¶é—´ï¼Œé’ˆå¯¹åŒä¸€åŸŸåä¸‹çš„è¯·æ±‚æœ‰ä¸€å®šæ•°é‡é™åˆ¶ï¼ˆè¿æ¥æ•°é‡ï¼‰ï¼Œè¶…è¿‡é™åˆ¶ä¼šè¢«é˜»å¡ã€‚</li><li>äºŒè¿›åˆ¶åˆ†å¸§ï¼šHTTP2.0ä¼šå°†æ‰€æœ‰çš„ä¼ è¾“ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„ä¿¡æ¯æˆ–è€…å¸§ï¼Œå¹¶å¯¹ä»–ä»¬è¿›è¡ŒäºŒè¿›åˆ¶ç¼–ç </li><li>é¦–éƒ¨å‹ç¼©</li><li>æœåŠ¡å™¨ç«¯æ¨é€</li></ul><h2 id="3ã€ä¸€ä¸ªå›¾ç‰‡urlè®¿é—®åç›´æ¥ä¸‹è½½æ€æ ·å®ç°ï¼Ÿ"><a href="#3ã€ä¸€ä¸ªå›¾ç‰‡urlè®¿é—®åç›´æ¥ä¸‹è½½æ€æ ·å®ç°ï¼Ÿ" class="headerlink" title="3ã€ä¸€ä¸ªå›¾ç‰‡urlè®¿é—®åç›´æ¥ä¸‹è½½æ€æ ·å®ç°ï¼Ÿ"></a>3ã€ä¸€ä¸ªå›¾ç‰‡urlè®¿é—®åç›´æ¥ä¸‹è½½æ€æ ·å®ç°ï¼Ÿ</h2><p>è¯·æ±‚çš„è¿”å›å¤´é‡Œé¢ï¼Œç”¨äºæµè§ˆå™¨è§£æçš„é‡è¦å‚æ•°å°±æ˜¯OSSçš„APIæ–‡æ¡£é‡Œé¢çš„è¿”å›httpå¤´ï¼Œå†³å®šç”¨æˆ·ä¸‹è½½è¡Œä¸ºçš„å‚æ•°ã€‚</p><p>ä¸‹è½½çš„æƒ…å†µä¸‹ï¼š</p><figure class="highlight http"><figcaption><span>request</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. x-oss-object-type:</span><br><span class="line">       <span class="attribute">Normal</span></span><br><span class="line">2. x-oss-request-id:</span><br><span class="line">       <span class="attribute">598D5ED34F29D01FE2925F41</span></span><br><span class="line">3. x-oss-storage-class:</span><br><span class="line">       <span class="attribute">Standard</span></span><br></pre></td></tr></table></figure><h2 id="4ã€iframeæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ"><a href="#4ã€iframeæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ" class="headerlink" title="4ã€iframeæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ"></a>4ã€iframeæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ</h2><p>å®šä¹‰ï¼šiframeå…ƒç´ ä¼šåˆ›å»ºåŒ…å«å¦ä¸€ä¸ªæ–‡æ¡£çš„å†…è”æ¡†æ¶<br>æç¤ºï¼šå¯ä»¥å°†æç¤ºæ–‡å­—æ”¾åœ¨ä¹‹é—´ï¼Œæ¥æç¤ºæŸäº›ä¸æ”¯æŒiframeçš„æµè§ˆå™¨</p><p>ç¼ºç‚¹ï¼š</p><ul><li><p>ä¼šé˜»å¡ä¸»é¡µé¢çš„onloadäº‹ä»¶</p></li><li><p>æœç´¢å¼•æ“æ— æ³•è§£è¯»è¿™ç§é¡µé¢ï¼Œä¸åˆ©äºSEOï¼ˆsearch engine optimizationï¼‰ <strong>æœç´¢å¼•æ“ä¼˜åŒ–</strong></p></li><li><p>iframeå’Œä¸»é¡µé¢å…±äº«è¿æ¥æ± ï¼Œè€Œæµè§ˆå™¨å¯¹ç›¸åŒåŒºåŸŸæœ‰é™åˆ¶æ‰€ä»¥ä¼šå½±å“æ€§èƒ½ã€‚</p></li></ul><h2 id="5ã€Doctypeä½œç”¨-ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰"><a href="#5ã€Doctypeä½œç”¨-ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰" class="headerlink" title="5ã€Doctypeä½œç”¨? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?"></a>5ã€Doctypeä½œç”¨? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?</h2><p>Doctypeå£°æ˜äºæ–‡æ¡£æœ€å‰é¢ï¼Œå‘Šè¯‰æµè§ˆå™¨ä»¥ä½•ç§æ–¹å¼æ¥æ¸²æŸ“é¡µé¢ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ¨¡å¼ï¼Œä¸¥æ ¼æ¨¡å¼å’Œæ··æ‚æ¨¡å¼ã€‚</p><ul><li><p>ä¸¥æ ¼æ¨¡å¼çš„æ’ç‰ˆå’Œ JS è¿ä½œæ¨¡å¼æ˜¯ ä»¥è¯¥æµè§ˆå™¨æ”¯æŒçš„æœ€é«˜æ ‡å‡†è¿è¡Œã€‚</p></li><li><p>æ··æ‚æ¨¡å¼ï¼Œå‘åå…¼å®¹ï¼Œæ¨¡æ‹Ÿè€å¼æµè§ˆå™¨ï¼Œé˜²æ­¢æµè§ˆå™¨æ— æ³•å…¼å®¹é¡µé¢ã€‚</p></li></ul><h2 id="6ã€Cookieå¦‚ä½•é˜²èŒƒXSSæ”»å‡»"><a href="#6ã€Cookieå¦‚ä½•é˜²èŒƒXSSæ”»å‡»" class="headerlink" title="6ã€Cookieå¦‚ä½•é˜²èŒƒXSSæ”»å‡»"></a>6ã€Cookieå¦‚ä½•é˜²èŒƒXSSæ”»å‡»</h2><p>XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰æ˜¯æŒ‡æ”»å‡»è€…åœ¨è¿”å›çš„HTMLä¸­åµŒå…¥javascriptè„šæœ¬ï¼Œä¸ºäº†å‡è½»è¿™äº›æ”»å‡»ï¼Œéœ€è¦åœ¨HTTPå¤´éƒ¨é…ä¸Šï¼Œset-cookieï¼š</p><ul><li><p>httponly-è¿™ä¸ªå±æ€§å¯ä»¥é˜²æ­¢XSS,å®ƒä¼šç¦æ­¢javascriptè„šæœ¬æ¥è®¿é—®cookieã€‚</p></li><li><p>secure - è¿™ä¸ªå±æ€§å‘Šè¯‰æµè§ˆå™¨ä»…åœ¨è¯·æ±‚ä¸ºhttpsçš„æ—¶å€™å‘é€cookieã€‚</p></li></ul><p>ç»“æœåº”è¯¥æ˜¯è¿™æ ·çš„ï¼šSet-Cookie=â€¦..</p><h2 id="7ã€viewportå’Œç§»åŠ¨ç«¯å¸ƒå±€"><a href="#7ã€viewportå’Œç§»åŠ¨ç«¯å¸ƒå±€" class="headerlink" title="7ã€viewportå’Œç§»åŠ¨ç«¯å¸ƒå±€"></a>7ã€viewportå’Œç§»åŠ¨ç«¯å¸ƒå±€</h2><p>çœ‹äº†å°å§å§çš„æ–‡ç« æŒºå¥½çš„ï¼š</p><p><a href="https://github.com/forthealllight/blog/issues/13" target="_blank" rel="noopener">å“åº”å¼å¸ƒå±€çš„å¸¸ç”¨è§£å†³æ–¹æ¡ˆå¯¹æ¯”(åª’ä½“æŸ¥è¯¢ã€ç™¾åˆ†æ¯”ã€remå’Œvw/vhï¼‰</a></p><h1 id="å››ã€CSSç›¸å…³"><a href="#å››ã€CSSç›¸å…³" class="headerlink" title="å››ã€CSSç›¸å…³"></a>å››ã€CSSç›¸å…³</h1><h2 id="1ã€ç”»ä¸€æ¡0-5pxçš„çº¿"><a href="#1ã€ç”»ä¸€æ¡0-5pxçš„çº¿" class="headerlink" title="1ã€ç”»ä¸€æ¡0.5pxçš„çº¿"></a>1ã€ç”»ä¸€æ¡0.5pxçš„çº¿</h2><ul><li><p>é‡‡ç”¨meta viewportçš„æ–¹å¼</p></li><li><p>é‡‡ç”¨ border-imageçš„æ–¹å¼</p></li><li><p>é‡‡ç”¨transform: scale()çš„æ–¹å¼</p></li></ul><h2 id="2ã€linkæ ‡ç­¾å’Œimportæ ‡ç­¾çš„åŒºåˆ«"><a href="#2ã€linkæ ‡ç­¾å’Œimportæ ‡ç­¾çš„åŒºåˆ«" class="headerlink" title="2ã€linkæ ‡ç­¾å’Œimportæ ‡ç­¾çš„åŒºåˆ«"></a>2ã€linkæ ‡ç­¾å’Œimportæ ‡ç­¾çš„åŒºåˆ«</h2><ul><li><p>linkå±äºhtmlæ ‡ç­¾ï¼Œè€Œ@importæ˜¯cssæä¾›çš„</p></li><li><p>é¡µé¢è¢«åŠ è½½æ—¶ï¼Œlinkä¼šåŒæ—¶è¢«åŠ è½½ï¼Œè€Œ@importå¼•ç”¨çš„cssä¼šç­‰åˆ°é¡µé¢åŠ è½½ç»“æŸååŠ è½½ã€‚</p></li><li><p>linkæ˜¯htmlæ ‡ç­¾ï¼Œå› æ­¤æ²¡æœ‰å…¼å®¹æ€§ï¼Œè€Œ@importåªæœ‰IE5ä»¥ä¸Šæ‰èƒ½è¯†åˆ«ã€‚</p></li><li><p>linkæ–¹å¼æ ·å¼çš„æƒé‡é«˜äº@importçš„ã€‚</p></li></ul><h2 id="3ã€å¤šè¡Œå…ƒç´ çš„æ–‡æœ¬çœç•¥å·"><a href="#3ã€å¤šè¡Œå…ƒç´ çš„æ–‡æœ¬çœç•¥å·" class="headerlink" title="3ã€å¤šè¡Œå…ƒç´ çš„æ–‡æœ¬çœç•¥å·"></a>3ã€å¤šè¡Œå…ƒç´ çš„æ–‡æœ¬çœç•¥å·</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span></span><br><span class="line"><span class="selector-tag">-webkit-box-orient</span><span class="selector-pseudo">:vertical</span></span><br><span class="line"><span class="selector-tag">-web-line-clamp</span><span class="selector-pseudo">:3</span></span><br><span class="line"><span class="selector-tag">overflow</span><span class="selector-pseudo">:hidden</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ä¸€ã€åŸºç¡€javascriptç¯‡&quot;&gt;&lt;a href=&quot;#ä¸€ã€åŸºç¡€javascriptç¯‡&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€åŸºç¡€javascriptç¯‡&quot;&gt;&lt;/a&gt;ä¸€ã€åŸºç¡€javascriptç¯‡&lt;/h1&gt;&lt;h2 id=&quot;1ã€ç±»çš„åˆ›å»ºå’Œç»§æ‰¿&quot;&gt;&lt;a href=&quot;#1ã€ç±»çš„åˆ›å»ºå’Œç»§æ‰¿&quot; class=&quot;headerlink&quot; title=&quot;1ã€ç±»çš„åˆ›å»ºå’Œç»§æ‰¿&quot;&gt;&lt;/a&gt;1ã€ç±»çš„åˆ›å»ºå’Œç»§æ‰¿&lt;/h2&gt;&lt;p&gt;ï¼ˆ1ï¼‰ç±»çš„åˆ›å»ºï¼ˆes5ï¼‰ï¼šnewä¸€ä¸ªfunctionï¼Œåœ¨è¿™ä¸ªfunctionçš„prototypeé‡Œé¢å¢åŠ å±æ€§å’Œæ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ¥åˆ›å»ºä¸€ä¸ªAnimalç±»ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å®šä¹‰ä¸€ä¸ªåŠ¨ç‰©ç±»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Animal&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;name&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// å±æ€§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name = name || &lt;span class=&quot;string&quot;&gt;&#39;Animal&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// å®ä¾‹æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.sleep = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name + &lt;span class=&quot;string&quot;&gt;&#39;æ­£åœ¨ç¡è§‰ï¼&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// åŸå‹æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Animal.prototype.eat = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;food&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name + &lt;span class=&quot;string&quot;&gt;&#39;æ­£åœ¨åƒï¼š&#39;&lt;/span&gt; + food);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="é¢è¯•é¢˜ç±»ç›®" scheme="https://jiangjinjin1.github.io/categories/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%B1%BB%E7%9B%AE/"/>
    
    
      <category term="é¢è¯•é¢˜ç±»ç›®" scheme="https://jiangjinjin1.github.io/tags/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%B1%BB%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>IOCè®¾è®¡ç†å¿µ</title>
    <link href="https://jiangjinjin1.github.io/2019/01/04/IOC%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5/"/>
    <id>https://jiangjinjin1.github.io/2019/01/04/IOCè®¾è®¡ç†å¿µ/</id>
    <published>2019-01-04T07:26:45.000Z</published>
    <updated>2019-01-04T07:41:10.458Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯-IoC"><a href="#ä»€ä¹ˆæ˜¯-IoC" class="headerlink" title="ä»€ä¹ˆæ˜¯ IoC"></a>ä»€ä¹ˆæ˜¯ IoC</h1><p><code>IoC</code> çš„å…¨ç§°å«åš <code>Inversion of Control</code>ï¼Œå¯ç¿»è¯‘ä¸ºä¸ºã€Œ<strong>æ§åˆ¶åè½¬</strong>ã€æˆ–ã€Œ<strong>ä¾èµ–å€’ç½®</strong>ã€ï¼Œå®ƒä¸»è¦åŒ…å«äº†ä¸‰ä¸ªå‡†åˆ™ï¼š</p><blockquote><p>   1ã€é«˜å±‚æ¬¡çš„æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¬¡çš„æ¨¡å—ï¼Œå®ƒä»¬éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡<br>   2ã€æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºå…·ä½“å®ç°ï¼Œå…·ä½“å®ç°åº”è¯¥ä¾èµ–äºæŠ½è±¡<br>   3ã€é¢å‘æ¥å£ç¼–ç¨‹ è€Œä¸è¦é¢å‘å®ç°ç¼–ç¨‹</p></blockquote><h2 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a>ä¾èµ–æ³¨å…¥</h2><hr><p>æ‰€è°“çš„ä¾èµ–æ³¨å…¥ï¼Œç®€å•æ¥è¯´å°±æ˜¯æŠŠé«˜å±‚æ¨¡å—æ‰€ä¾èµ–çš„æ¨¡å—é€šè¿‡ä¼ å‚çš„æ–¹å¼æŠŠä¾èµ–ã€Œæ³¨å…¥ã€åˆ°æ¨¡å—å†…éƒ¨ï¼Œä¸Šé¢çš„ä»£ç å¯ä»¥é€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼æ”¹é€ æˆå¦‚ä¸‹æ–¹å¼ï¼š</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">        <span class="keyword">this</span>.options = options;</span><br><span class="line">        <span class="keyword">this</span>.router = options.router;</span><br><span class="line">        <span class="keyword">this</span>.track = options.track;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    init() &#123;</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, () =&gt; &#123;</span><br><span class="line">            <span class="keyword">this</span>.router.to(<span class="string">'home'</span>);</span><br><span class="line">            <span class="keyword">this</span>.track.tracking();</span><br><span class="line">            <span class="keyword">this</span>.options.onReady();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'path/to/App'</span>;</span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'./modules/Router'</span>;</span><br><span class="line"><span class="keyword">import</span> Track <span class="keyword">from</span> <span class="string">'./modules/Track'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> App(&#123;</span><br><span class="line">    router: <span class="keyword">new</span> Router(),</span><br><span class="line">    track: <span class="keyword">new</span> Track(),</span><br><span class="line">    onReady() &#123;</span><br><span class="line">        <span class="comment">// do something here...</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¦‚æœäº§å“è¯´å†åŠ ä¸ªåˆ†äº«åŠŸèƒ½ï¼Œè‚¯å®šè¦å†åŠ ä¸ª<code>this.share = options.share</code>,è¿™æ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ã€‚</p><p>çœ‹ä¸‹é¢çš„ä»£ç :</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> modules = []</span><br><span class="line">    <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">        <span class="keyword">this</span>.options = options;</span><br><span class="line">        <span class="keyword">this</span>.init();</span><br><span class="line">    &#125;</span><br><span class="line">    init() &#123;</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, () =&gt; &#123;</span><br><span class="line">            <span class="keyword">this</span>.initModules();</span><br><span class="line">            <span class="keyword">this</span>.options.onReady(<span class="keyword">this</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> use(<span class="built_in">module</span>) &#123;</span><br><span class="line">        <span class="built_in">Array</span>.isArray(<span class="built_in">module</span>) ? <span class="built_in">module</span>.map(<span class="function"><span class="params">item</span> =&gt;</span> App.use(item)) : App.modules.push(<span class="built_in">module</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    initModules() &#123;</span><br><span class="line">        App.modules.map(<span class="function"><span class="params">module</span> =&gt;</span> <span class="built_in">module</span>.init &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">module</span>.init == <span class="string">'function'</span> &amp;&amp; <span class="built_in">module</span>.init(<span class="keyword">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡æ”¹é€ å <code>App</code> å†…å·²ç»æ²¡æœ‰ã€Œå…·ä½“å®ç°ã€äº†ï¼Œçœ‹ä¸åˆ°ä»»ä½•ä¸šåŠ¡ä»£ç äº†ï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨ <code>App</code> æ¥ç®¡ç†æˆ‘ä»¬çš„ä¾èµ–å‘¢ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// modules/Router.js</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'path/to/Router'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    init(app) &#123;</span><br><span class="line">        app.router = <span class="keyword">new</span> Router(app.options.router);</span><br><span class="line">        app.router.to(<span class="string">'home'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// modules/Track.js</span></span><br><span class="line"><span class="keyword">import</span> Track <span class="keyword">from</span> <span class="string">'path/to/Track'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    init(app) &#123;</span><br><span class="line">        app.track = <span class="keyword">new</span> Track(app.options.track);</span><br><span class="line">        app.track.tracking();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'path/to/App'</span>;</span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'./modules/Router'</span>;</span><br><span class="line"><span class="keyword">import</span> Track <span class="keyword">from</span> <span class="string">'./modules/Track'</span>;</span><br><span class="line"></span><br><span class="line">App.use([Router, Track]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> App(&#123;</span><br><span class="line">    router: &#123;</span><br><span class="line">        mode: <span class="string">'history'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    track: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">    onReady(app) &#123;</span><br><span class="line">        <span class="comment">// app.options ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™æ ·é€šè¿‡æ³¨å…¥åˆ°modulesé‡Œåˆå§‹åŒ–ï¼Œå°† <code>App</code> çš„thisä¼ å…¥modulesæ³¨å…¥çš„æ–¹æ³•ä¸­ï¼Œå®ç°ç»‘å®šåˆ° <code>App</code> çš„å¯¹è±¡ä¸Š</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><hr><p><code>App</code> æ¨¡å—æ­¤æ—¶åº”è¯¥ç§°ä¹‹ä¸ºã€Œå®¹å™¨ã€æ¯”è¾ƒåˆé€‚äº†ï¼Œè·Ÿä¸šåŠ¡å·²ç»æ²¡æœ‰ä»»ä½•å…³ç³»äº†ï¼Œå®ƒä»…ä»…åªæ˜¯æä¾›äº†ä¸€äº›æ–¹æ³•æ¥è¾…åŠ©ç®¡ç†æ³¨å…¥çš„ä¾èµ–å’Œæ§åˆ¶æ¨¡å—å¦‚ä½•æ‰§è¡Œã€‚<br>æ§åˆ¶åè½¬ï¼ˆ<code>Inversion of Control</code>ï¼‰æ˜¯ä¸€ç§ã€Œæ€æƒ³ã€ï¼Œä¾èµ–æ³¨å…¥ï¼ˆ<code>Dependency Injection</code>ï¼‰åˆ™æ˜¯è¿™ä¸€æ€æƒ³çš„ä¸€ç§å…·ä½“ã€Œå®ç°æ–¹å¼ã€ï¼Œè€Œè¿™é‡Œçš„ <code>App</code> åˆ™æ˜¯è¾…åŠ©ä¾èµ–ç®¡ç†çš„ä¸€ä¸ªã€Œå®¹å™¨ã€ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ä»€ä¹ˆæ˜¯-IoC&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-IoC&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ IoC&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ IoC&lt;/h1&gt;&lt;p&gt;&lt;code&gt;IoC&lt;/code&gt; çš„å…¨ç§°å«åš &lt;code&gt;Inversion of Control&lt;/code&gt;ï¼Œå¯ç¿»è¯‘ä¸ºä¸ºã€Œ&lt;strong&gt;æ§åˆ¶åè½¬&lt;/strong&gt;ã€æˆ–ã€Œ&lt;strong&gt;ä¾èµ–å€’ç½®&lt;/strong&gt;ã€ï¼Œå®ƒä¸»è¦åŒ…å«äº†ä¸‰ä¸ªå‡†åˆ™ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;   1ã€é«˜å±‚æ¬¡çš„æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¬¡çš„æ¨¡å—ï¼Œå®ƒä»¬éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡&lt;br&gt;   2ã€æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºå…·ä½“å®ç°ï¼Œå…·ä½“å®ç°åº”è¯¥ä¾èµ–äºæŠ½è±¡&lt;br&gt;   3ã€é¢å‘æ¥å£ç¼–ç¨‹ è€Œä¸è¦é¢å‘å®ç°ç¼–ç¨‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ä¾èµ–æ³¨å…¥&quot;&gt;&lt;a href=&quot;#ä¾èµ–æ³¨å…¥&quot; class=&quot;headerlink&quot; title=&quot;ä¾èµ–æ³¨å…¥&quot;&gt;&lt;/a&gt;ä¾èµ–æ³¨å…¥&lt;/h2&gt;&lt;hr&gt;
&lt;p&gt;æ‰€è°“çš„ä¾èµ–æ³¨å…¥ï¼Œç®€å•æ¥è¯´å°±æ˜¯æŠŠé«˜å±‚æ¨¡å—æ‰€ä¾èµ–çš„æ¨¡å—é€šè¿‡ä¼ å‚çš„æ–¹å¼æŠŠä¾èµ–ã€Œæ³¨å…¥ã€åˆ°æ¨¡å—å†…éƒ¨ï¼Œä¸Šé¢çš„ä»£ç å¯ä»¥é€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼æ”¹é€ æˆå¦‚ä¸‹æ–¹å¼ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://jiangjinjin1.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://jiangjinjin1.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>å¸¸ç”¨çš„css reset</title>
    <link href="https://jiangjinjin1.github.io/2018/12/12/%E5%B8%B8%E7%94%A8%E7%9A%84css-reset/"/>
    <id>https://jiangjinjin1.github.io/2018/12/12/å¸¸ç”¨çš„css-reset/</id>
    <published>2018-12-12T06:07:11.000Z</published>
    <updated>2018-12-12T06:13:03.732Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¸¸ç”¨çš„css-reset"><a href="#å¸¸ç”¨çš„css-reset" class="headerlink" title="å¸¸ç”¨çš„css reset"></a>å¸¸ç”¨çš„css reset</h1><h2 id="é›…è™å·¥ç¨‹å¸ˆæä¾›çš„CSSåˆå§‹åŒ–ç¤ºä¾‹ä»£ç "><a href="#é›…è™å·¥ç¨‹å¸ˆæä¾›çš„CSSåˆå§‹åŒ–ç¤ºä¾‹ä»£ç " class="headerlink" title="é›…è™å·¥ç¨‹å¸ˆæä¾›çš„CSSåˆå§‹åŒ–ç¤ºä¾‹ä»£ç "></a>é›…è™å·¥ç¨‹å¸ˆæä¾›çš„CSSåˆå§‹åŒ–ç¤ºä¾‹ä»£ç </h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">div</span>,<span class="selector-tag">dl</span>,<span class="selector-tag">dt</span>,<span class="selector-tag">dd</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">li</span>,<span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">pre</span>,<span class="selector-tag">code</span>,<span class="selector-tag">form</span>,<span class="selector-tag">fieldset</span>,<span class="selector-tag">legend</span>,<span class="selector-tag">input</span>,<span class="selector-tag">button</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">p</span>,<span class="selector-tag">blockquote</span>,<span class="selector-tag">th</span>,<span class="selector-tag">td</span> &#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">padding</span>:<span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">background</span>:<span class="number">#fff</span>; <span class="attribute">color</span>:<span class="number">#555</span>; <span class="attribute">font-size</span>:<span class="number">14px</span>; <span class="attribute">font-family</span>: Verdana, Arial, Helvetica, sans-serif; &#125;</span><br><span class="line"><span class="selector-tag">td</span>,<span class="selector-tag">th</span>,<span class="selector-tag">caption</span> &#123; <span class="attribute">font-size</span>:<span class="number">14px</span>; &#125;</span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span> &#123; <span class="attribute">font-weight</span>:normal; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125;</span><br><span class="line"><span class="selector-tag">address</span>, <span class="selector-tag">caption</span>, <span class="selector-tag">cite</span>, <span class="selector-tag">code</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">strong</span>, <span class="selector-tag">th</span>, <span class="selector-tag">var</span> &#123; <span class="attribute">font-style</span>:normal; <span class="attribute">font-weight</span>:normal;&#125;</span><br><span class="line"><span class="selector-tag">a</span> &#123; <span class="attribute">color</span>:<span class="number">#555</span>; <span class="attribute">text-decoration</span>:none; &#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">text-decoration</span>:underline; &#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123; <span class="attribute">border</span>:none; &#125;</span><br><span class="line"><span class="selector-tag">ol</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">li</span> &#123; <span class="attribute">list-style</span>:none; &#125;</span><br><span class="line"><span class="selector-tag">input</span>, <span class="selector-tag">textarea</span>, <span class="selector-tag">select</span>, <span class="selector-tag">button</span> &#123; <span class="attribute">font</span>:<span class="number">14px</span> Verdana,Helvetica,Arial,sans-serif; &#125;</span><br><span class="line"><span class="selector-tag">table</span> &#123; <span class="attribute">border-collapse</span>:collapse; &#125;</span><br><span class="line"><span class="selector-tag">html</span> &#123;<span class="attribute">overflow-y</span>: scroll;&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;<span class="attribute">content</span>: <span class="string">"."</span>; <span class="attribute">display</span>: block; <span class="attribute">height</span>:<span class="number">0</span>; <span class="attribute">clear</span>:both; <span class="attribute">visibility</span>: hidden;&#125;</span><br><span class="line">.clearfix &#123; *zoom:1; &#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="è…¾è®¯å®˜ç½‘-æ ·å¼åˆå§‹åŒ–"><a href="#è…¾è®¯å®˜ç½‘-æ ·å¼åˆå§‹åŒ–" class="headerlink" title="è…¾è®¯å®˜ç½‘ æ ·å¼åˆå§‹åŒ–"></a>è…¾è®¯å®˜ç½‘ æ ·å¼åˆå§‹åŒ–</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">p</span>,<span class="selector-tag">th</span>,<span class="selector-tag">td</span>,<span class="selector-tag">dl</span>,<span class="selector-tag">dd</span>,<span class="selector-tag">form</span>,<span class="selector-tag">fieldset</span>,<span class="selector-tag">legend</span>,<span class="selector-tag">input</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">select</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">padding</span>:<span class="number">0</span>&#125; </span><br><span class="line"><span class="selector-tag">body</span>&#123;<span class="attribute">font</span>:<span class="number">12px</span><span class="string">"å®‹ä½“"</span>,<span class="string">"Arial Narrow"</span>,HELVETICA;<span class="attribute">background</span>:<span class="number">#fff</span>;<span class="attribute">-webkit-text-size-adjust</span>:<span class="number">100%</span>;&#125; </span><br><span class="line"><span class="selector-tag">a</span>&#123;<span class="attribute">color</span>:<span class="number">#2d374b</span>;<span class="attribute">text-decoration</span>:none&#125; </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;<span class="attribute">color</span>:<span class="number">#cd0200</span>;<span class="attribute">text-decoration</span>:underline&#125; </span><br><span class="line"><span class="selector-tag">em</span>&#123;<span class="attribute">font-style</span>:normal&#125; </span><br><span class="line"><span class="selector-tag">li</span>&#123;<span class="attribute">list-style</span>:none&#125; </span><br><span class="line"><span class="selector-tag">img</span>&#123;<span class="attribute">border</span>:<span class="number">0</span>;<span class="attribute">vertical-align</span>:middle&#125; </span><br><span class="line"><span class="selector-tag">table</span>&#123;<span class="attribute">border-collapse</span>:collapse;<span class="attribute">border-spacing</span>:<span class="number">0</span>&#125; </span><br><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">word-wrap</span>:break-word&#125;</span><br></pre></td></tr></table></figure><h2 id="æ–°æµªå®˜ç½‘-æ ·å¼åˆå§‹åŒ–"><a href="#æ–°æµªå®˜ç½‘-æ ·å¼åˆå§‹åŒ–" class="headerlink" title="æ–°æµªå®˜ç½‘ æ ·å¼åˆå§‹åŒ–"></a>æ–°æµªå®˜ç½‘ æ ·å¼åˆå§‹åŒ–</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">li</span>,<span class="selector-tag">p</span>,<span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">form</span>,<span class="selector-tag">fieldset</span>,<span class="selector-tag">table</span>,<span class="selector-tag">td</span>,<span class="selector-tag">img</span>,<span class="selector-tag">div</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">border</span>:<span class="number">0</span>;&#125; </span><br><span class="line"><span class="selector-tag">body</span>&#123;<span class="attribute">background</span>:<span class="number">#fff</span>;<span class="attribute">color</span>:<span class="number">#333</span>;<span class="attribute">font-size</span>:<span class="number">12px</span>; <span class="attribute">margin-top</span>:<span class="number">5px</span>;<span class="attribute">font-family</span>:<span class="string">"SimSun"</span>,<span class="string">"å®‹ä½“"</span>,<span class="string">"Arial Narrow"</span>;&#125; </span><br><span class="line"> </span><br><span class="line"><span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>&#123;<span class="attribute">list-style-type</span>:none;&#125; </span><br><span class="line"><span class="selector-tag">select</span>,<span class="selector-tag">input</span>,<span class="selector-tag">img</span>,<span class="selector-tag">select</span>&#123;<span class="attribute">vertical-align</span>:middle;&#125; </span><br><span class="line"> </span><br><span class="line"><span class="selector-tag">a</span>&#123;<span class="attribute">text-decoration</span>:none;&#125; </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span>&#123;<span class="attribute">color</span>:<span class="number">#009</span>;&#125; </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;<span class="attribute">color</span>:<span class="number">#800080</span>;&#125; </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,<span class="selector-tag">a</span><span class="selector-pseudo">:active</span>,<span class="selector-tag">a</span><span class="selector-pseudo">:focus</span>&#123;<span class="attribute">color</span>:<span class="number">#c00</span>;<span class="attribute">text-decoration</span>:underline;&#125;</span><br></pre></td></tr></table></figure><h2 id="æ·˜å®å®˜ç½‘-æ ·å¼åˆå§‹åŒ–"><a href="#æ·˜å®å®˜ç½‘-æ ·å¼åˆå§‹åŒ–" class="headerlink" title="æ·˜å®å®˜ç½‘ æ ·å¼åˆå§‹åŒ–"></a>æ·˜å®å®˜ç½‘ æ ·å¼åˆå§‹åŒ–</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">hr</span>, <span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">li</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">form</span>, <span class="selector-tag">fieldset</span>, <span class="selector-tag">legend</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">textarea</span>, <span class="selector-tag">th</span>, <span class="selector-tag">td</span> &#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">padding</span>:<span class="number">0</span>; &#125; </span><br><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font</span>:<span class="number">12px</span>/<span class="number">1.5</span> tahoma, arial, \<span class="number">5</span>b8b\<span class="number">4</span>f53; &#125; </span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>&#123; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125; </span><br><span class="line"><span class="selector-tag">address</span>, <span class="selector-tag">cite</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">var</span> &#123; <span class="attribute">font-style</span>:normal; &#125; </span><br><span class="line"><span class="selector-tag">code</span>, <span class="selector-tag">kbd</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">samp</span> &#123; <span class="attribute">font-family</span>:couriernew, courier, monospace; &#125; </span><br><span class="line"><span class="selector-tag">small</span>&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; &#125; </span><br><span class="line"><span class="selector-tag">ul</span>, <span class="selector-tag">ol</span> &#123; <span class="attribute">list-style</span>:none; &#125; </span><br><span class="line"><span class="selector-tag">a</span> &#123; <span class="attribute">text-decoration</span>:none; &#125; </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">text-decoration</span>:underline; &#125; </span><br><span class="line"><span class="selector-tag">sup</span> &#123; <span class="attribute">vertical-align</span>:text-top; &#125; </span><br><span class="line"><span class="selector-tag">sub</span>&#123; <span class="attribute">vertical-align</span>:text-bottom; &#125; </span><br><span class="line"><span class="selector-tag">legend</span> &#123; <span class="attribute">color</span>:<span class="number">#000</span>; &#125; </span><br><span class="line"><span class="selector-tag">fieldset</span>, <span class="selector-tag">img</span> &#123; <span class="attribute">border</span>:<span class="number">0</span>; &#125; </span><br><span class="line"><span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125; </span><br><span class="line"><span class="selector-tag">table</span> &#123; <span class="attribute">border-collapse</span>:collapse; <span class="attribute">border-spacing</span>:<span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure><h2 id="ç½‘æ˜“å®˜ç½‘-æ ·å¼åˆå§‹åŒ–"><a href="#ç½‘æ˜“å®˜ç½‘-æ ·å¼åˆå§‹åŒ–" class="headerlink" title="ç½‘æ˜“å®˜ç½‘ æ ·å¼åˆå§‹åŒ–"></a>ç½‘æ˜“å®˜ç½‘ æ ·å¼åˆå§‹åŒ–</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;<span class="attribute">overflow-y</span>:scroll;&#125; </span><br><span class="line"><span class="selector-tag">body</span> &#123;<span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">padding</span>:<span class="number">29px</span>00; <span class="attribute">font</span>:<span class="number">12px</span><span class="string">"\5B8B\4F53"</span>,sans-serif;<span class="attribute">background</span>:<span class="number">#ffffff</span>;&#125; </span><br><span class="line"><span class="selector-tag">div</span>,<span class="selector-tag">dl</span>,<span class="selector-tag">dt</span>,<span class="selector-tag">dd</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">li</span>,<span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">pre</span>,<span class="selector-tag">form</span>,<span class="selector-tag">fieldset</span>,<span class="selector-tag">input</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">blockquote</span>,<span class="selector-tag">p</span>&#123;<span class="attribute">padding</span>:<span class="number">0</span>; <span class="attribute">margin</span>:<span class="number">0</span>;&#125; </span><br><span class="line"><span class="selector-tag">table</span>,<span class="selector-tag">td</span>,<span class="selector-tag">tr</span>,<span class="selector-tag">th</span>&#123;<span class="attribute">font-size</span>:<span class="number">12px</span>;&#125; </span><br><span class="line"><span class="selector-tag">li</span>&#123;<span class="attribute">list-style-type</span>:none;&#125; </span><br><span class="line"><span class="selector-tag">img</span>&#123;<span class="attribute">vertical-align</span>:top;<span class="attribute">border</span>:<span class="number">0</span>;&#125; </span><br><span class="line"><span class="selector-tag">ol</span>,<span class="selector-tag">ul</span> &#123;<span class="attribute">list-style</span>:none;&#125; </span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>&#123;<span class="attribute">font-size</span>:<span class="number">12px</span>; <span class="attribute">font-weight</span>:normal;&#125; </span><br><span class="line"><span class="selector-tag">address</span>,<span class="selector-tag">cite</span>,<span class="selector-tag">code</span>,<span class="selector-tag">em</span>,<span class="selector-tag">th</span> &#123;<span class="attribute">font-weight</span>:normal; <span class="attribute">font-style</span>:normal;&#125;</span><br></pre></td></tr></table></figure><h2 id="admin10000-com-çš„htmlæ¨¡æ¿ï¼Œç”¨äºæ¯æ¬¡æ–°å¼€å‘é¡µé¢ä½¿ç”¨ã€‚"><a href="#admin10000-com-çš„htmlæ¨¡æ¿ï¼Œç”¨äºæ¯æ¬¡æ–°å¼€å‘é¡µé¢ä½¿ç”¨ã€‚" class="headerlink" title="admin10000.com çš„htmlæ¨¡æ¿ï¼Œç”¨äºæ¯æ¬¡æ–°å¼€å‘é¡µé¢ä½¿ç”¨ã€‚"></a>admin10000.com çš„htmlæ¨¡æ¿ï¼Œç”¨äºæ¯æ¬¡æ–°å¼€å‘é¡µé¢ä½¿ç”¨ã€‚</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">lang</span>=<span class="string">"zh-cn"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    ã€€ã€€<span class="tag">&lt;<span class="name">title</span>&gt;</span>ç½‘ç«™æ ‡é¢˜ - Admin10000.com <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Language"</span> <span class="attr">content</span>=<span class="string">"zh-CN"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Author"</span> <span class="attr">content</span>=<span class="string">"ç½‘é¡µä½œè€…"</span> /&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Copyright"</span> <span class="attr">content</span>=<span class="string">"ç½‘ç«™ç‰ˆæƒ"</span> /&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"ç½‘ç«™å…³é”®å­—"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"ç½‘ç«™æè¿°"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"Shortcut Icon"</span> <span class="attr">href</span>=<span class="string">"ç½‘ç«™.icoå›¾æ ‡è·¯å¾„"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"CSSæ–‡ä»¶è·¯å¾„"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"JSæ–‡ä»¶è·¯å¾„"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å¸¸ç”¨çš„css-reset&quot;&gt;&lt;a href=&quot;#å¸¸ç”¨çš„css-reset&quot; class=&quot;headerlink&quot; title=&quot;å¸¸ç”¨çš„css reset&quot;&gt;&lt;/a&gt;å¸¸ç”¨çš„css reset&lt;/h1&gt;&lt;h2 id=&quot;é›…è™å·¥ç¨‹å¸ˆæä¾›çš„CSSåˆå§‹åŒ–ç¤ºä¾‹ä»£ç &quot;&gt;&lt;a href=&quot;#é›…è™å·¥ç¨‹å¸ˆæä¾›çš„CSSåˆå§‹åŒ–ç¤ºä¾‹ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;é›…è™å·¥ç¨‹å¸ˆæä¾›çš„CSSåˆå§‹åŒ–ç¤ºä¾‹ä»£ç &quot;&gt;&lt;/a&gt;é›…è™å·¥ç¨‹å¸ˆæä¾›çš„CSSåˆå§‹åŒ–ç¤ºä¾‹ä»£ç &lt;/h2&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;div&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;dl&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;dt&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;dd&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;ul&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;ol&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;li&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;h1&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;h2&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;h3&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;h4&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;h5&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;h6&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;pre&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;code&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;form&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;fieldset&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;legend&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;input&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;button&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;textarea&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;p&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;blockquote&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;th&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;td&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#fff&lt;/span&gt;; &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#555&lt;/span&gt;; &lt;span class=&quot;attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;14px&lt;/span&gt;; &lt;span class=&quot;attribute&quot;&gt;font-family&lt;/span&gt;: Verdana, Arial, Helvetica, sans-serif; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;td&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;th&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;caption&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;14px&lt;/span&gt;; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;h1&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;h2&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;h3&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;h4&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;h5&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;h6&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;font-weight&lt;/span&gt;:normal; &lt;span class=&quot;attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;address&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;caption&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;cite&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;code&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;dfn&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;em&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;th&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;font-style&lt;/span&gt;:normal; &lt;span class=&quot;attribute&quot;&gt;font-weight&lt;/span&gt;:normal;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;a&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#555&lt;/span&gt;; &lt;span class=&quot;attribute&quot;&gt;text-decoration&lt;/span&gt;:none; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:hover&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;text-decoration&lt;/span&gt;:underline; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;img&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;border&lt;/span&gt;:none; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;ol&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;ul&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;li&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;list-style&lt;/span&gt;:none; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;input&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;textarea&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;select&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;button&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;font&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;14px&lt;/span&gt; Verdana,Helvetica,Arial,sans-serif; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;table&lt;/span&gt; &amp;#123; &lt;span class=&quot;attribute&quot;&gt;border-collapse&lt;/span&gt;:collapse; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;html&lt;/span&gt; &amp;#123;&lt;span class=&quot;attribute&quot;&gt;overflow-y&lt;/span&gt;: scroll;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.clearfix&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:after&lt;/span&gt; &amp;#123;&lt;span class=&quot;attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt;; &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: block; &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;attribute&quot;&gt;clear&lt;/span&gt;:both; &lt;span class=&quot;attribute&quot;&gt;visibility&lt;/span&gt;: hidden;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.clearfix &amp;#123; *zoom:1; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="CSSç±»" scheme="https://jiangjinjin1.github.io/categories/CSS%E7%B1%BB/"/>
    
    
      <category term="CSSç±»" scheme="https://jiangjinjin1.github.io/tags/CSS%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>vueé¢è¯•é¢˜</title>
    <link href="https://jiangjinjin1.github.io/2018/11/29/vue%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>https://jiangjinjin1.github.io/2018/11/29/vueé¢è¯•é¢˜/</id>
    <published>2018-11-29T05:55:24.000Z</published>
    <updated>2018-11-29T05:56:24.721Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="é¢è¯•é¢˜ç±»ç›®" scheme="https://jiangjinjin1.github.io/categories/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%B1%BB%E7%9B%AE/"/>
    
    
      <category term="é¢è¯•é¢˜ç±»ç›®" scheme="https://jiangjinjin1.github.io/tags/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%B1%BB%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>reacté¢è¯•é¢˜</title>
    <link href="https://jiangjinjin1.github.io/2018/11/29/react%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>https://jiangjinjin1.github.io/2018/11/29/reacté¢è¯•é¢˜/</id>
    <published>2018-11-29T05:55:00.000Z</published>
    <updated>2019-01-04T08:04:03.977Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1ã€dispatchè§¦å‘actionï¼Œreactè§†å›¾æ›´æ–°è¿‡ç¨‹"><a href="#1ã€dispatchè§¦å‘actionï¼Œreactè§†å›¾æ›´æ–°è¿‡ç¨‹" class="headerlink" title="1ã€dispatchè§¦å‘actionï¼Œreactè§†å›¾æ›´æ–°è¿‡ç¨‹"></a>1ã€dispatchè§¦å‘actionï¼Œreactè§†å›¾æ›´æ–°è¿‡ç¨‹</h1><blockquote><p>å½“æˆ‘ä»¬dispatch ä¸€ä¸ª action çš„æ—¶å€™ï¼Œ è°ƒç”¨çš„å…¶å®æ˜¯ store.dispatchï¼Œè¿™ä¸ªéƒ½æ²¡é—®é¢˜ï¼Œstore.dispatch ä¼šå»è·‘ä¸€éæ‰€æœ‰æ³¨å†Œåœ¨ <code>createStore</code> ä¸­çš„ reducerï¼Œ æ‰¾åˆ°å¯¹åº”çš„ type æ›´æ–°æ•°æ®ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ stateã€‚</p></blockquote>   <a id="more"></a><pre><code>è€Œæˆ‘ä»¬çš„ç»„ä»¶æƒ³æ‹¿åˆ° store çš„æ•°æ®å¿…é¡»é€šè¿‡ `connect(mapStateToProps, mapDispatchToProps)(App)` åƒè¿™æ ·ï¼Œreact-redux ä¸­çš„ Connect ç»„ä»¶ä¼šåœ¨ `componengDidMount` çš„æ—¶å€™å» è°ƒç”¨ ä¸€ä¸ª `trySubscribe` çš„æ–¹æ³•ï¼Œå…¶å†…éƒ¨è°ƒç”¨ `store.subscrib`e å»è®¢é˜…ä¸€ä¸ª handleChange çš„æ–¹æ³•ã€‚æ‰€ä»¥å½“ä½  dispatch action çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘ Connect ç»„ä»¶ä¸­çš„æ–¹æ³•ï¼Œ Connect ç»„ä»¶ä¸­ä¹Ÿç»´æŠ¤äº†ä¸€ä¸ªå«åš `storeState` çš„ stateï¼Œæ¯æ¬¡æ‹¿åˆ°æ–°çš„ sotre å°±å»è°ƒç”¨ setStateï¼Œ è§¦å‘ render å‡½æ•°ï¼Œ render å‡½æ•°ä¼šæ ¹æ®ä½  connect ä¸­ä¼ å…¥çš„ mapStateToPropsï¼Œ mapDispatchToPropsï¼ŒåŒ…æ‹¬å¯é€‰å‚æ•° mergePropsï¼Œ å»åšä¸€ä¸ª props çš„åˆå¹¶åŠ¨ä½œï¼Œ æœ€ç»ˆåœ¨ Connect ç»„ä»¶å†…éƒ¨ return å‡ºæ¥ä¸€ä¸ª `createElement(WrappedComponent,this.mergedProps)` è¿™æ ·çš„ä¸œè¥¿ï¼Œè€Œ createElement ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä½ ç»„ä»¶çš„ propsï¼Œ é‚£ä¹ˆæ¯æ¬¡ props å˜äº†ï¼Œå°±ä¼šé©±åŠ¨è§†å›¾çš„æ›´æ–°ã€‚è¿™å°±æ˜¯ Redux å…¶ä¸­çš„ä¸­åšåŸç†ã€‚</code></pre><h1 id="2ã€reduxä¸­é—´ä»¶"><a href="#2ã€reduxä¸­é—´ä»¶" class="headerlink" title="2ã€reduxä¸­é—´ä»¶"></a>2ã€reduxä¸­é—´ä»¶</h1><blockquote><p>ä¸­é—´ä»¶æä¾›ç¬¬ä¸‰æ–¹æ’ä»¶çš„æ¨¡å¼ï¼Œè‡ªå®šä¹‰æ‹¦æˆª action -&gt; reducer çš„è¿‡ç¨‹ã€‚å˜ä¸º action -&gt; middlewares -&gt; reducer ã€‚è¿™ç§æœºåˆ¶å¯ä»¥è®©æˆ‘ä»¬æ”¹å˜æ•°æ®æµï¼Œå®ç°å¦‚å¼‚æ­¥ action ï¼Œaction è¿‡æ»¤ï¼Œæ—¥å¿—è¾“å‡ºï¼Œå¼‚å¸¸æŠ¥å‘Šç­‰åŠŸèƒ½ã€‚<br>        å¸¸è§çš„ä¸­é—´ä»¶ï¼š<br>        redux-loggerï¼šæä¾›æ—¥å¿—è¾“å‡º<br>        redux-thunkï¼šå¤„ç†å¼‚æ­¥æ“ä½œ<br>        redux-promiseï¼šå¤„ç†å¼‚æ­¥æ“ä½œï¼ŒactionCreatorçš„è¿”å›å€¼æ˜¯promise</p></blockquote><h1 id="3ã€reduxæœ‰ä»€ä¹ˆç¼ºç‚¹"><a href="#3ã€reduxæœ‰ä»€ä¹ˆç¼ºç‚¹" class="headerlink" title="3ã€reduxæœ‰ä»€ä¹ˆç¼ºç‚¹"></a>3ã€reduxæœ‰ä»€ä¹ˆç¼ºç‚¹</h1><blockquote><p>1.ä¸€ä¸ªç»„ä»¶æ‰€éœ€è¦çš„æ•°æ®ï¼Œå¿…é¡»ç”±çˆ¶ç»„ä»¶ä¼ è¿‡æ¥ï¼Œè€Œä¸èƒ½åƒfluxä¸­ç›´æ¥ä»storeå–ã€‚<br>2.å½“ä¸€ä¸ªç»„ä»¶ç›¸å…³æ•°æ®æ›´æ–°æ—¶ï¼Œå³ä½¿çˆ¶ç»„ä»¶ä¸éœ€è¦ç”¨åˆ°è¿™ä¸ªç»„ä»¶ï¼Œçˆ¶ç»„ä»¶è¿˜æ˜¯ä¼šé‡æ–°renderï¼Œå¯èƒ½ä¼šæœ‰æ•ˆç‡å½±å“ï¼Œæˆ–è€…éœ€è¦å†™å¤æ‚çš„shouldComponentUpdateè¿›è¡Œåˆ¤æ–­ã€‚</p></blockquote><h1 id="4ã€reactç»„ä»¶çš„åˆ’åˆ†ä¸šåŠ¡ç»„ä»¶æŠ€æœ¯ç»„ä»¶ï¼Ÿ"><a href="#4ã€reactç»„ä»¶çš„åˆ’åˆ†ä¸šåŠ¡ç»„ä»¶æŠ€æœ¯ç»„ä»¶ï¼Ÿ" class="headerlink" title="4ã€reactç»„ä»¶çš„åˆ’åˆ†ä¸šåŠ¡ç»„ä»¶æŠ€æœ¯ç»„ä»¶ï¼Ÿ"></a>4ã€reactç»„ä»¶çš„åˆ’åˆ†ä¸šåŠ¡ç»„ä»¶æŠ€æœ¯ç»„ä»¶ï¼Ÿ</h1><blockquote><p>æ ¹æ®ç»„ä»¶çš„èŒè´£é€šå¸¸æŠŠç»„ä»¶åˆ†ä¸ºUIç»„ä»¶å’Œå®¹å™¨ç»„ä»¶ã€‚</p><p>UI ç»„ä»¶è´Ÿè´£ UI çš„å‘ˆç°ï¼Œå®¹å™¨ç»„ä»¶è´Ÿè´£ç®¡ç†æ•°æ®å’Œé€»è¾‘ã€‚</p><p>ä¸¤è€…é€šè¿‡React-Redux æä¾›connectæ–¹æ³•è”ç³»èµ·æ¥ã€‚</p></blockquote><p>å…·ä½“ä½¿ç”¨å¯ä»¥å‚ç…§å¦‚ä¸‹é“¾æ¥ï¼š<br>[<a href="http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html</a>]</p><h1 id="5ã€ä¸ºä»€ä¹ˆè™šæ‹Ÿdomä¼šæé«˜æ€§èƒ½"><a href="#5ã€ä¸ºä»€ä¹ˆè™šæ‹Ÿdomä¼šæé«˜æ€§èƒ½" class="headerlink" title="5ã€ä¸ºä»€ä¹ˆè™šæ‹Ÿdomä¼šæé«˜æ€§èƒ½?"></a>5ã€ä¸ºä»€ä¹ˆè™šæ‹Ÿdomä¼šæé«˜æ€§èƒ½?</h1><blockquote><p>è™šæ‹Ÿdomç›¸å½“äºåœ¨jså’ŒçœŸå®domä¸­é—´åŠ äº†ä¸€ä¸ªç¼“å­˜ï¼Œåˆ©ç”¨dom diffç®—æ³•é¿å…äº†æ²¡æœ‰å¿…è¦çš„domæ“ä½œï¼Œä»è€Œæé«˜æ€§èƒ½</p></blockquote><p>å…·ä½“å®ç°æ­¥éª¤å¦‚ä¸‹ï¼š<br>    ç”¨ JavaScript å¯¹è±¡ç»“æ„è¡¨ç¤º DOM æ ‘çš„ç»“æ„ï¼›ç„¶åç”¨è¿™ä¸ªæ ‘æ„å»ºä¸€ä¸ªçœŸæ­£çš„ DOM æ ‘ï¼Œæ’åˆ°æ–‡æ¡£å½“ä¸­<br>    å½“çŠ¶æ€å˜æ›´çš„æ—¶å€™ï¼Œé‡æ–°æ„é€ ä¸€æ£µæ–°çš„å¯¹è±¡æ ‘ã€‚ç„¶åç”¨æ–°çš„æ ‘å’Œæ—§çš„æ ‘è¿›è¡Œæ¯”è¾ƒï¼Œè®°å½•ä¸¤æ£µæ ‘å·®å¼‚æŠŠ2æ‰€è®°å½•çš„å·®å¼‚åº”ç”¨åˆ°æ­¥éª¤1æ‰€æ„å»ºçš„çœŸæ­£çš„DOMæ ‘ä¸Šï¼Œè§†å›¾å°±æ›´æ–°äº†ã€‚</p><p>å‚è€ƒé“¾æ¥ï¼š</p><p>[<a href="https://www.zhihu.com/question/29504639?sort=created" target="_blank" rel="noopener">https://www.zhihu.com/question/29504639?sort=created</a>]</p><h1 id="6ã€diffç®—æ³•"><a href="#6ã€diffç®—æ³•" class="headerlink" title="6ã€diffç®—æ³•?"></a>6ã€diffç®—æ³•?</h1><p>æŠŠæ ‘å½¢ç»“æ„æŒ‰ç…§å±‚çº§åˆ†è§£ï¼Œåªæ¯”è¾ƒåŒçº§å…ƒç´ ã€‚<br>ç»™åˆ—è¡¨ç»“æ„çš„æ¯ä¸ªå•å…ƒæ·»åŠ å”¯ä¸€çš„keyå±æ€§ï¼Œæ–¹ä¾¿æ¯”è¾ƒã€‚<br>React åªä¼šåŒ¹é…ç›¸åŒ class çš„ componentï¼ˆè¿™é‡Œé¢çš„classæŒ‡çš„æ˜¯ç»„ä»¶çš„åå­—ï¼‰åˆå¹¶æ“ä½œï¼Œè°ƒç”¨ component çš„ setState æ–¹æ³•çš„æ—¶å€™, React å°†å…¶æ ‡è®°ä¸º dirty.åˆ°æ¯ä¸€ä¸ªäº‹ä»¶å¾ªç¯ç»“æŸ, React æ£€æŸ¥æ‰€æœ‰æ ‡è®° dirty çš„ component é‡æ–°ç»˜åˆ¶.<br>é€‰æ‹©æ€§å­æ ‘æ¸²æŸ“ã€‚å¼€å‘äººå‘˜å¯ä»¥é‡å†™shouldComponentUpdateæé«˜diffçš„æ€§èƒ½ã€‚</p><p>å‚è€ƒé“¾æ¥ï¼š</p><p>[https//segmentfault.com/a/1190000000606216]</p><h1 id="7ã€reactæ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ"><a href="#7ã€reactæ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ" class="headerlink" title="7ã€reactæ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ"></a>7ã€reactæ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ</h1><p> (1ï¼‰é‡å†™shouldComponentUpdateæ¥é¿å…ä¸å¿…è¦çš„domæ“ä½œã€‚</p><p>ï¼ˆ2ï¼‰ä½¿ç”¨ production ç‰ˆæœ¬çš„react.jsã€‚</p><p>ï¼ˆ3ï¼‰ä½¿ç”¨keyæ¥å¸®åŠ©Reactè¯†åˆ«åˆ—è¡¨ä¸­æ‰€æœ‰å­ç»„ä»¶çš„æœ€å°å˜åŒ–ã€‚</p><p>å‚è€ƒé“¾æ¥ï¼š</p><p>[<a href="https://segmentfault.com/a/1190000006254212" target="_blank" rel="noopener">https://segmentfault.com/a/1190000006254212</a>]</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1ã€dispatchè§¦å‘actionï¼Œreactè§†å›¾æ›´æ–°è¿‡ç¨‹&quot;&gt;&lt;a href=&quot;#1ã€dispatchè§¦å‘actionï¼Œreactè§†å›¾æ›´æ–°è¿‡ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;1ã€dispatchè§¦å‘actionï¼Œreactè§†å›¾æ›´æ–°è¿‡ç¨‹&quot;&gt;&lt;/a&gt;1ã€dispatchè§¦å‘actionï¼Œreactè§†å›¾æ›´æ–°è¿‡ç¨‹&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;å½“æˆ‘ä»¬dispatch ä¸€ä¸ª action çš„æ—¶å€™ï¼Œ è°ƒç”¨çš„å…¶å®æ˜¯ store.dispatchï¼Œè¿™ä¸ªéƒ½æ²¡é—®é¢˜ï¼Œstore.dispatch ä¼šå»è·‘ä¸€éæ‰€æœ‰æ³¨å†Œåœ¨ &lt;code&gt;createStore&lt;/code&gt; ä¸­çš„ reducerï¼Œ æ‰¾åˆ°å¯¹åº”çš„ type æ›´æ–°æ•°æ®ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ stateã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="é¢è¯•é¢˜ç±»ç›®" scheme="https://jiangjinjin1.github.io/categories/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%B1%BB%E7%9B%AE/"/>
    
    
      <category term="é¢è¯•é¢˜ç±»ç›®" scheme="https://jiangjinjin1.github.io/tags/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%B1%BB%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>macä¸­ä½¿ç”¨ç”Ÿæˆé¡¹ç›®ç»“æ„å›¾tree</title>
    <link href="https://jiangjinjin1.github.io/2018/11/29/mac%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%94%9F%E6%88%90%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%9B%BEtree/"/>
    <id>https://jiangjinjin1.github.io/2018/11/29/macä¸­ä½¿ç”¨ç”Ÿæˆé¡¹ç›®ç»“æ„å›¾tree/</id>
    <published>2018-11-29T02:06:31.000Z</published>
    <updated>2018-11-29T05:45:25.364Z</updated>
    
    <content type="html"><![CDATA[<h1 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h1><blockquote><p>Mac çš„è¯æ˜¯æ²¡æœ‰è‡ªå¸¦treeå‘½ä»¤çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡homebrewï¼ˆå¦‚æœä½ ä¸çŸ¥é“å®ƒçš„è¯ï¼Œè¿™æ˜¯å®˜ç½‘ï¼‰å®‰è£…ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">brew install tree</span><br></pre></td></tr></table></figure><blockquote><p>ç„¶åç­‰å¾…å®‰è£…å®Œæˆå</p></blockquote><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tree --version# æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><br><span class="line">tree --help# æŸ¥çœ‹å¸®åŠ©</span><br></pre></td></tr></table></figure><a id="more"></a><h1 id="ä¸­æ–‡Api"><a href="#ä¸­æ–‡Api" class="headerlink" title="ä¸­æ–‡Api"></a>ä¸­æ–‡Api</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚</span><br><span class="line">-A ä½¿ç”¨ASNIç»˜å›¾å­—ç¬¦æ˜¾ç¤ºæ ‘çŠ¶å›¾è€Œéä»¥ASCIIå­—ç¬¦ç»„åˆã€‚</span><br><span class="line">-C åœ¨æ–‡ä»¶å’Œç›®å½•æ¸…å•åŠ ä¸Šè‰²å½©ï¼Œä¾¿äºåŒºåˆ†å„ç§ç±»å‹ã€‚</span><br><span class="line">-d æ˜¾ç¤ºç›®å½•åç§°è€Œéå†…å®¹ã€‚</span><br><span class="line">-D åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ›´æ”¹æ—¶é—´ã€‚</span><br><span class="line">-f åœ¨æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¹‹å‰ï¼Œæ˜¾ç¤ºå®Œæ•´çš„ç›¸å¯¹è·¯å¾„åç§°ã€‚</span><br><span class="line">-F åœ¨æ‰§è¡Œæ–‡ä»¶ï¼Œç›®å½•ï¼ŒSocketï¼Œç¬¦å·è¿æ¥ï¼Œç®¡é“åç§°åç§°ï¼Œå„è‡ªåŠ ä¸Š<span class="string">"*"</span>,<span class="string">"/"</span>,<span class="string">"="</span>,<span class="string">"@"</span>,<span class="string">"|"</span>å·ã€‚</span><br><span class="line">-g åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„åç§°ï¼Œæ²¡æœ‰å¯¹åº”çš„åç§°æ—¶ï¼Œåˆ™æ˜¾ç¤ºç¾¤ç»„è¯†åˆ«ç ã€‚</span><br><span class="line">-i ä¸ä»¥é˜¶æ¢¯çŠ¶åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</span><br><span class="line">-I ä¸æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</span><br><span class="line">-l å¦‚é‡åˆ°æ€§è´¨ä¸ºç¬¦å·è¿æ¥çš„ç›®å½•ï¼Œç›´æ¥åˆ—å‡ºè¯¥è¿æ¥æ‰€æŒ‡å‘çš„åŸå§‹ç›®å½•ã€‚</span><br><span class="line">-n ä¸åœ¨æ–‡ä»¶å’Œç›®å½•æ¸…å•åŠ ä¸Šè‰²å½©ã€‚</span><br><span class="line">-N ç›´æ¥åˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ï¼ŒåŒ…æ‹¬æ§åˆ¶å­—ç¬¦ã€‚</span><br><span class="line">-p åˆ—å‡ºæƒé™æ ‡ç¤ºã€‚</span><br><span class="line">-P åªæ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</span><br><span class="line">-q ç”¨<span class="string">"?"</span>å·å–ä»£æ§åˆ¶å­—ç¬¦ï¼Œåˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ã€‚</span><br><span class="line">-s åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•å¤§å°ã€‚</span><br><span class="line">-t ç”¨æ–‡ä»¶å’Œç›®å½•çš„æ›´æ”¹æ—¶é—´æ’åºã€‚</span><br><span class="line">-u åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…åç§°ï¼Œæ²¡æœ‰å¯¹åº”çš„åç§°æ—¶ï¼Œåˆ™æ˜¾ç¤ºç”¨æˆ·è¯†åˆ«ç ã€‚</span><br><span class="line">-x å°†èŒƒå›´å±€é™åœ¨ç°è¡Œçš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè‹¥æŒ‡å®šç›®å½•ä¸‹çš„æŸäº›å­ç›®å½•ï¼Œå…¶å­˜æ”¾äºå¦ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œåˆ™å°†è¯¥å­ç›®å½•äºˆä»¥æ’é™¤åœ¨å¯»æ‰¾èŒƒå›´å¤–ã€‚</span><br></pre></td></tr></table></figure><h1 id="Used"><a href="#Used" class="headerlink" title="Used"></a>Used</h1><blockquote><p>ä¸‹é¢æ˜¯æˆ‘ç”Ÿæˆä¸Šé¢çš„ç»“æ„æ‰€ç”¨çš„å‘½ä»¤ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒä¸‹</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree -I <span class="string">'node_modules|dist|*.mp3|*.jpg'</span> -f</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;mac&quot;&gt;&lt;a href=&quot;#mac&quot; class=&quot;headerlink&quot; title=&quot;mac&quot;&gt;&lt;/a&gt;mac&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;Mac çš„è¯æ˜¯æ²¡æœ‰è‡ªå¸¦treeå‘½ä»¤çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡homebrewï¼ˆå¦‚æœä½ ä¸çŸ¥é“å®ƒçš„è¯ï¼Œè¿™æ˜¯å®˜ç½‘ï¼‰å®‰è£…ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;brew install tree&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ç„¶åç­‰å¾…å®‰è£…å®Œæˆå&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tree --version	# æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tree --help		# æŸ¥çœ‹å¸®åŠ©&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="å·¥å…·ç±»" scheme="https://jiangjinjin1.github.io/categories/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
    
      <category term="å·¥å…·ç±»" scheme="https://jiangjinjin1.github.io/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>mpvueå…¥æ‰‹åŠé‡åˆ°çš„å‘ç‚¹</title>
    <link href="https://jiangjinjin1.github.io/2018/11/29/mpvue%E5%85%A5%E6%89%8B%E5%8F%8A%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91%E7%82%B9/"/>
    <id>https://jiangjinjin1.github.io/2018/11/29/mpvueå…¥æ‰‹åŠé‡åˆ°çš„å‘ç‚¹/</id>
    <published>2018-11-29T01:59:37.000Z</published>
    <updated>2018-11-29T05:45:37.788Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å¯¹äºæœªæ¥è§¦è¿‡<code>å°ç¨‹åº</code>çš„æˆ‘æ¥è¯´ï¼Œæƒ³èµ·æ‰‹åšä¸ªå°ç¨‹åºè¿˜æ˜¯è¦è´¹ç‚¹æ—¶é—´å»å­¦ä¹ ï¼Œä½†æ˜¯<code>mpvue</code>çš„å‡ºç°è®©æˆ‘æèµ·äº†åšå°ç¨‹åºçš„å…´è¶£ã€‚ä»è€Œæˆ‘çš„ç¬¬ä¸€ä¸ªå°ç¨‹åºå°±è¿™ä¹ˆä»<code>mpvue</code>ä¸­æ‘¸çˆ¬æ»šæ‰“ä¸­å¼€å§‹äº†</p><a id="more"></a><h2 id="mpvue"><a href="#mpvue" class="headerlink" title="mpvue"></a>mpvue</h2><blockquote><p>mpvueæ˜¯ä»€ä¹ˆï¼Œæ˜¯ä¸€ä¸ªåˆ©ç”¨vueçš„runtimeå’Œcompilerå°†vueç±»å‹æ–‡ä»¶çš„ä»£ç é€šè¿‡webpackæ‰“åŒ…è½¬è¯‘æˆå°ç¨‹åºçš„ä»£ç ã€‚</p></blockquote><p>è®©æˆ‘ä»¬å…ˆä»å¦‚ä½•è·å–ä¸€ä¸ª<code>mpvue</code>è„šæ‰‹æ¶å¼€å§‹èµ·æ­¥å§</p><p>é¦–å…ˆå‡†å¤‡å¥½nodeï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 1. å…ˆæ£€æŸ¥ä¸‹ Node.js æ˜¯å¦å®‰è£…æˆåŠŸ</span><br><span class="line">$ node -v</span><br><span class="line">v8<span class="number">.9</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line">$ npm -v</span><br><span class="line"><span class="number">5.6</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line"># 2. ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå¯ä»¥è€ƒè™‘åˆ‡æ¢æºä¸º taobao æº</span><br><span class="line">$ npm set registry https:<span class="comment">//registry.npm.taobao.org/</span></span><br><span class="line"></span><br><span class="line"># 3. å…¨å±€å®‰è£… vue-cli</span><br><span class="line"># ä¸€èˆ¬æ˜¯è¦ sudo æƒé™çš„</span><br><span class="line">$ npm install --global vue-cli@<span class="number">2.9</span></span><br><span class="line"></span><br><span class="line"># 4. åˆ›å»ºä¸€ä¸ªåŸºäº mpvue-quickstart æ¨¡æ¿çš„æ–°é¡¹ç›®</span><br><span class="line"># æ–°æ‰‹ä¸€è·¯å›è½¦é€‰æ‹©é»˜è®¤å°±å¯ä»¥äº†</span><br><span class="line">$ vue init mpvue/mpvue-quickstart my-project</span><br><span class="line"></span><br><span class="line"># 5. å®‰è£…ä¾èµ–ï¼Œèµ°ä½ </span><br><span class="line">$ cd my-project</span><br><span class="line">$ npm install</span><br><span class="line">$ npm run dev</span><br></pre></td></tr></table></figure><ul><li><p>ä¾æ¬¡æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œåˆ°æœ€åå®‰è£…å¥½æ‰€ä»¥ä¾èµ–ï¼Œæ‰§è¡Œ<code>npm run dev</code>è¿™æ—¶å€™æœ¬åœ°æœåŠ¡å°±å¯åŠ¨äº†ï¼Œé¡¹ç›®ç›®å½•ä¸­ä¼šå¤šå‡ºä¸ªdistç›®å½•äº†ã€‚</p></li><li><p>ä¸Šé¢æ˜¯æ‘˜è‡ª:       mpvueæ–‡æ¡£[<a href="http://mpvue.com/mpvue/quickstart/#3-mpvue" target="_blank" rel="noopener">http://mpvue.com/mpvue/quickstart/#3-mpvue</a>]</p></li><li>å‰©ä¸‹çš„ä¸å¤šè¯´å°ä¼™ä¼´ä»¬ç›´æ¥å»å®˜æ–¹æ–‡æ¡£çœ‹å°±å¥½äº†ï¼Œåªä»‹ç»ä¸ªèµ·æ­¥ï¼Œä¸‹é¢æˆ‘ä»¬å°†å¼€å§‹è®²è¿°æˆ‘mpvueçš„å¼€å‘è¿‡ç¨‹</li></ul><h2 id="mpvueå¼€å‘çš„æ¡†æ¶å›¾"><a href="#mpvueå¼€å‘çš„æ¡†æ¶å›¾" class="headerlink" title="mpvueå¼€å‘çš„æ¡†æ¶å›¾"></a>mpvueå¼€å‘çš„æ¡†æ¶å›¾</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ ./README.md</span><br><span class="line">â”œâ”€â”€ ./build</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/build.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/check-versions.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/dev-client.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/dev-server.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/devbuild.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/prod-server.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/utils.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/vue-loader.conf.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/webpack.base.conf.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/webpack.dev.conf.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/webpack.devprod.config.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./build/webpack.prod.conf.js</span><br><span class="line">â”‚Â Â  â””â”€â”€ ./build/webpack.prodserver.config.js</span><br><span class="line">â”œâ”€â”€ ./config</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./config/dev.env.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./config/index.js</span><br><span class="line">â”‚Â Â  â””â”€â”€ ./config/prod.env.js</span><br><span class="line">â”œâ”€â”€ ./index.html</span><br><span class="line">â”œâ”€â”€ ./package-lock.json</span><br><span class="line">â”œâ”€â”€ ./package.json</span><br><span class="line">â”œâ”€â”€ ./project.config.json</span><br><span class="line">â”œâ”€â”€ ./src</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/App.vue</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/app.json</span><br><span class="line">â”‚   â”œâ”€â”€ ./src/main.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/components</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./src/components/addRecord.vue</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/config</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ ./src/config/apiconfig</span><br><span class="line">â”‚Â Â  â”‚Â Â      â””â”€â”€ ./src/config/apiconfig/config.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/fetchData</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./src/fetchData/fetchDiscover.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/http</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./src/http/api.js</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ ./src/http/config.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/main.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/pages</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ ./src/pages/searchlist</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ./src/pages/searchlist/component</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ./src/pages/searchlist/component/courts.vue</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ./src/pages/searchlist/component/goodsType.vue</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ./src/pages/searchlist/component/priceRange.vue</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ ./src/pages/searchlist/component/sortView.vue</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ./src/pages/searchlist/index.vue</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ./src/pages/searchlist/main.js</span><br><span class="line">â”‚Â Â  â”‚Â Â      â””â”€â”€ ./src/pages/searchlist/main.json</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ./src/store</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./src/store/actions.js</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./src/store/getters.js</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./src/store/mutaions.js</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./src/store/mutation-type.js</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ ./src/store/store.js</span><br><span class="line">â”‚Â Â  â””â”€â”€ ./src/utils</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ ./src/utils/data</span><br><span class="line">â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ./src/utils/data/city.js</span><br><span class="line">â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ./src/utils/data/discoverData.js</span><br><span class="line">â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ./src/utils/data/handleUtils.js</span><br><span class="line">â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ./src/utils/data/mincity.js</span><br><span class="line">â”‚Â Â      â”‚Â Â  â””â”€â”€ ./src/utils/data/region.json</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ ./src/utils/style</span><br><span class="line">â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ./src/utils/style/common.css</span><br><span class="line">â”‚Â Â      â”‚Â Â  â””â”€â”€ ./src/utils/style/mixin.css</span><br><span class="line">â”‚Â Â      â””â”€â”€ ./src/utils/tipUtil</span><br><span class="line">â”‚Â Â          â””â”€â”€ ./src/utils/tipUtil/tips.js</span><br><span class="line">â””â”€â”€ ./<span class="keyword">static</span></span><br><span class="line">    â”œâ”€â”€ ./<span class="keyword">static</span>/images</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ ./<span class="keyword">static</span>/images/default_pic.png</span><br><span class="line">    â”œâ”€â”€ ./<span class="keyword">static</span>/iview</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ ./<span class="keyword">static</span>/iview/action-sheet</span><br><span class="line">    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./<span class="keyword">static</span>/iview/action-sheet/index.js</span><br><span class="line">    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./<span class="keyword">static</span>/iview/action-sheet/index.json</span><br><span class="line">    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ./<span class="keyword">static</span>/iview/action-sheet/index.wxml</span><br><span class="line">    â”‚Â Â  â”‚Â Â  â””â”€â”€ ./<span class="keyword">static</span>/iview/action-sheet/index.wxss</span><br><span class="line">    â””â”€â”€ ./<span class="keyword">static</span>/weui</span><br><span class="line">        â””â”€â”€ ./<span class="keyword">static</span>/weui/weui.css</span><br></pre></td></tr></table></figure><ul><li><p>ä¸Šçº¿æµç¨‹å›¾ä¸­æˆ‘ä»¬å…ˆåˆ†æä¸‹ç»“æ„ï¼Œbuildå’Œconfigç›®å½•æ˜¯å­˜æ”¾webpacké…ç½®æ–‡ä»¶çš„ï¼Œæœ‰éœ€è¦ç‰¹æ®Šé…ç½®çš„å°ä¼™ä¼´è‡ªè¡Œä¿®æ”¹é…ç½®å³å¯ã€‚</p></li><li><p>å‰©ä¸‹çš„çš„å°±æ˜¯srcå’Œstaticç›®å½•ï¼ŒåˆæœŸæ„å»ºå‡ºæ¥çš„é¡¹ç›®å¹¶æ²¡æœ‰staticç›®å½•ï¼Œä½†æ˜¯èƒ½çŸ¥é“å®ƒçš„ä½œç”¨å­˜æ”¾é™æ€æ–‡ä»¶çš„,å…·ä½“åé¢è®²ã€‚</p></li><li><p>index.htmlæ˜¯ä½œä¸ºè§£æmpvueå…¥å£htmlæ–‡ä»¶</p></li><li><p>project.config.jsonè¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥è®¾ç½®å°ç¨‹åºå¼€å‘å·¥å…·è®¾ç½®å’Œappidçš„é…ç½®æ–‡ä»¶</p></li><li><p>å†åˆ°srcç›®å½•ï¼Œcomponentså­˜æ”¾vueç»„ä»¶ï¼Œconfigå’Œhttpæ˜¯å°è£…è¯·æ±‚æ–¹æ³•çš„ï¼Œutilsæ˜¯å­˜æ”¾å…¬å…±æ–¹æ³•ç±»æ–‡ä»¶çš„ï¼Œpagesæ˜¯å­˜æ”¾é¡µé¢çº§æ–‡ä»¶çš„ï¼Œæ¯ä¸ªpageé‡Œæœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯index.vueã€main.jsã€main.jsonã€‚</p></li><li><p>srcé‡Œæœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œmain.jsã€App.vue,è¿™ä¸¤ä¸ªåˆ†åˆ«å¯¹åº”vueæ¡†æ¶ä¸­çš„å…¥å£jsæ–‡ä»¶å’Œå…¥å£æ¨¡æ¿ï¼Œè¿˜æœ‰ä¸ªapp.jsonè¿™æ˜¯å°ç¨‹åºé…ç½®è·¯ç”±ç­‰ä¿¡æ¯çš„æ–‡ä»¶</p></li></ul><h3 id="è§£æä¸Šè¯‰å†…å®¹ç›®å½•"><a href="#è§£æä¸Šè¯‰å†…å®¹ç›®å½•" class="headerlink" title="è§£æä¸Šè¯‰å†…å®¹ç›®å½•"></a>è§£æä¸Šè¯‰å†…å®¹ç›®å½•</h3><h4 id="1ã€staticç›®å½•çš„ä½œç”¨"><a href="#1ã€staticç›®å½•çš„ä½œç”¨" class="headerlink" title="1ã€staticç›®å½•çš„ä½œç”¨"></a>1ã€staticç›®å½•çš„ä½œç”¨</h4><p>staticæ˜¯å­˜æ”¾é™æ€æ–‡ä»¶çš„ï¼Œmpvueæ¡†æ¶ç”±äºç›®å‰æ¶æ„è¿˜ä¸æ˜¯å¾ˆæˆç†Ÿï¼Œæ‰€ä»¥åœ¨é¡µé¢ä¸­å¼•å…¥å›¾ç‰‡èµ„æºæ—¶å°†å›¾ç‰‡æ”¾åˆ°srcç›®å½•ä¸‹ï¼Œæ‰“åŒ…åˆ°distï¼Œå¼•å…¥å›¾ç‰‡æ˜¯åŠ è½½ä¸å‡ºæ¥çš„ã€‚æ‰€ä»¥ç›®å‰å°±å…ˆå°†staticç›®å½•ä»¥webpackçš„copyæ–¹æ³•å°†staticç›®å½•copyåˆ°distç›®å½•ï¼Œæ–¹ä¾¿å°ç¨‹åºçš„å¯¼å…¥ã€‚<br>åŒæ—¶æˆ‘ä»¬æƒ³ç€å¦‚ä½•å¼•å…¥ä¸‰æ–¹çš„å°ç¨‹åºUIåº“ï¼Œè¿™æ—¶å€™æƒ³åˆ°mpvueæ˜¯å°†vueä»£ç è£…æˆå°ç¨‹åºä»£ç ï¼Œæˆ‘ä»¬å°†å°ç¨‹åºçš„UIç»„ä»¶å¼•å…¥åˆ°distç›®å½•å³å¯ï¼Œä¾›mpvueä½¿ç”¨ã€‚è¦åšåˆ°è¿™ç‚¹å¯¿é™©å°†éœ€è¦çš„UIç»„ä»¶å­˜æ”¾åˆ°staticå¯¹åº”çš„æ–‡ä»¶å¤¹ä¸‹ã€‚<br>ç„¶åé¡µé¢ä¸­å¦‚ä½•ä½¿ç”¨å‘¢ï¼Œå°±éœ€è¦åˆ°pageç›®å½•ä¸‹çš„main.jsonæ–‡ä»¶ä¸­é…ç½®äº†ï¼Œçœ‹ä¸‹é¢ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"navigationBarTitleText"</span>: <span class="string">"é¡µé¢æ ‡é¢˜"</span>,</span><br><span class="line">  <span class="string">"usingComponents"</span>: &#123;</span><br><span class="line">    <span class="string">"i-icon"</span>: <span class="string">"../../static/iview/icon/index"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¼•å…¥ååœ¨é¡µé¢ä¸­ç›´æ¥ä½¿ç”¨ç»„ä»¶å³å¯ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i-icon <span class="class"><span class="keyword">class</span></span>=<span class="string">"iconUnfold"</span> type=<span class="string">"unfold"</span> /&gt;</span><br></pre></td></tr></table></figure></p><h4 id="2ã€storeå¦‚ä½•ä½¿ç”¨"><a href="#2ã€storeå¦‚ä½•ä½¿ç”¨" class="headerlink" title="2ã€storeå¦‚ä½•ä½¿ç”¨"></a>2ã€storeå¦‚ä½•ä½¿ç”¨</h4><p>storeçš„ä½¿ç”¨å’Œvueçš„ä½¿ç”¨æ˜¯å‡ ä¹ä¸€æ ·çš„ï¼Œä¸ä¸€æ ·çš„åœ¨äºå®ƒçš„å¼•å…¥åŠstoreå­˜å‚¨çš„setå’Œgetéœ€è¦æ”¹æˆå°ç¨‹åºçš„æ–¹æ³•ã€‚</p><ul><li>1ã€åœ¨main.jså…¥å£æ–‡ä»¶æ—¶å°†storeå®ä¾‹åŒ–å¯¹è±¡å¼•å…¥åˆ°vueç±»çš„åŸå‹ä¸Š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$store = store</span><br></pre></td></tr></table></figure></li></ul><p>è¿™ä¸€ç‚¹å’Œvueæ˜¯ä¸ä¸€æ ·çš„</p><ul><li>2ã€vuexçš„setå’Œgetéœ€è¦è‡ªå·±å†™ï¼Œç”¨åˆ°<code>vuex-persistedstate</code>åº“æ¥å®ç°setå’Œget<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> createPersistedState <span class="keyword">from</span> <span class="string">'vuex-persistedstate'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">state,</span><br><span class="line">getters,</span><br><span class="line">mutations,</span><br><span class="line">actions,</span><br><span class="line">modules: &#123;</span><br><span class="line">&#125;,</span><br><span class="line">plugins: [createPersistedState(&#123;</span><br><span class="line"><span class="comment">// é…ç½®ç™½åå•</span></span><br><span class="line">paths: [</span><br><span class="line"><span class="string">'ztInfo'</span>,</span><br><span class="line"><span class="string">'isLogin'</span></span><br><span class="line">],</span><br><span class="line">storage: &#123;</span><br><span class="line">getItem: <span class="function"><span class="params">key</span> =&gt;</span> wx.getStorageSync(key),</span><br><span class="line">setItem: <span class="function">(<span class="params">key, value</span>) =&gt;</span> wx.setStorageSync(key, value),</span><br><span class="line">removeItem: <span class="function"><span class="params">key</span> =&gt;</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>åšå®Œè¿™äº›ï¼Œvuexå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨èµ·æ¥äº†</p></blockquote><h4 id="3ã€è·¯ç”±çš„ä½¿ç”¨"><a href="#3ã€è·¯ç”±çš„ä½¿ç”¨" class="headerlink" title="3ã€è·¯ç”±çš„ä½¿ç”¨"></a>3ã€è·¯ç”±çš„ä½¿ç”¨</h4><blockquote><p>è¯´åˆ°è·¯ç”±ï¼Œæœ‰äººè®²åˆ°å’‹æ²¡çœ‹åˆ°vue-routerå•Šï¼Œåªèƒ½å¾ˆæŠ±æ­‰çš„è¯´ä¸€å¥ç›®å‰è¿˜æœªå¾ˆå¥½çš„æ¥å…¥vueçš„è·¯ç”±ï¼Œç°é˜¶æ®µåªèƒ½ä½¿ç”¨å°ç¨‹åºçš„è·¯ç”±é…ç½®ã€‚</p></blockquote><ul><li>å°ç¨‹åºçš„è·¯ç”±å°±éœ€è¦ç”¨åˆ°src/app.json</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"pages"</span>: [</span><br><span class="line">    <span class="string">"pages/discover/main"</span>, <span class="comment">// é¡µé¢è·¯å¾„</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"window"</span>: &#123; <span class="comment">// å…¨å±€çª—å£é…ç½®</span></span><br><span class="line">    <span class="string">"backgroundTextStyle"</span>: <span class="string">"light"</span>,</span><br><span class="line">    <span class="string">"navigationBarBackgroundColor"</span>: <span class="string">"#F73C31"</span>,</span><br><span class="line">    <span class="string">"navigationBarTitleText"</span>: <span class="string">"å±•å ‚æ‹å–"</span>,</span><br><span class="line">    <span class="string">"navigationBarTextStyle"</span>: <span class="string">"#ffffff"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"tabBar"</span>: &#123; <span class="comment">// åº•éƒ¨å¯¼èˆªåˆ‡æ¢</span></span><br><span class="line">      <span class="string">"color"</span>:<span class="string">"#000000"</span>,</span><br><span class="line">      <span class="string">"selectedColor"</span>: <span class="string">"#f0220d"</span>,</span><br><span class="line">      <span class="string">"list"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">"pagePath"</span>: <span class="string">"pages/discover/main"</span>,</span><br><span class="line">            <span class="string">"text"</span>: <span class="string">"ç°åœºå‹˜å¯Ÿ"</span>,</span><br><span class="line">            <span class="string">"iconPath"</span>: <span class="string">"static/images/nav_bottom2/nav_1.png"</span>,</span><br><span class="line">            <span class="string">"selectedIconPath"</span>: <span class="string">"static/images/nav_bottom2/nav_1_on.png"</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">"pagePath"</span>: <span class="string">"pages/reservations/main"</span>,</span><br><span class="line">            <span class="string">"text"</span>: <span class="string">"é¢„çº¦çœ‹æ ·"</span>,</span><br><span class="line">            <span class="string">"iconPath"</span>: <span class="string">"static/images/nav_bottom2/nav_2.png"</span>,</span><br><span class="line">            <span class="string">"selectedIconPath"</span>: <span class="string">"static/images/nav_bottom2/nav_2_on.png"</span></span><br><span class="line">          &#125;</span><br><span class="line">      ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4ã€project-config-jsonéƒ¨åˆ†è®²è§£"><a href="#4ã€project-config-jsonéƒ¨åˆ†è®²è§£" class="headerlink" title="4ã€project.config.jsonéƒ¨åˆ†è®²è§£"></a>4ã€project.config.jsonéƒ¨åˆ†è®²è§£</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">"description"</span>: <span class="string">"é¡¹ç›®é…ç½®æ–‡ä»¶ã€‚"</span>,</span><br><span class="line"><span class="string">"setting"</span>: &#123;</span><br><span class="line"><span class="string">"urlCheck"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">"es6"</span>: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å°†es6è½¬æˆes5</span></span><br><span class="line"><span class="string">"postcss"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">"minified"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">"newFeature"</span>: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"miniprogramRoot"</span>: <span class="string">"dist/"</span>, <span class="comment">// å°ç¨‹åºæ ¹ç›®å½•</span></span><br><span class="line"><span class="string">"compileType"</span>: <span class="string">"miniprogram"</span>,</span><br><span class="line"><span class="string">"appid"</span>: <span class="string">"wx86d90741d5d57774"</span>, <span class="comment">// å°ç¨‹åºappid</span></span><br><span class="line"><span class="string">"projectname"</span>: <span class="string">"zhantang-fapai-wx-staff"</span>, <span class="comment">// é¡¹ç›®åç§°</span></span><br><span class="line"><span class="string">"libVersion"</span>: <span class="string">"2.3.2"</span>, <span class="comment">// ä½¿ç”¨åŸºç¡€è°ƒè¯•åº“çš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="string">"condition"</span>: &#123;</span><br><span class="line"><span class="string">"search"</span>: &#123;</span><br><span class="line"><span class="string">"current"</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="string">"list"</span>: []</span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"conversation"</span>: &#123;</span><br><span class="line"><span class="string">"current"</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="string">"list"</span>: []</span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"game"</span>: &#123;</span><br><span class="line"><span class="string">"currentL"</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="string">"list"</span>: []</span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"miniprogram"</span>: &#123;</span><br><span class="line"><span class="string">"current"</span>: <span class="number">-1</span>,</span><br><span class="line"><span class="string">"list"</span>: []</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šè¯‰æ³¨è§£çš„ä¿¡æ¯éƒ½å¯ä»¥åœ¨å°ç¨‹åºå·¥å…·ä¸­çš„è¯¦æƒ…ä¸­é…ç½®<br><img src="/images/mpvue/mpvue1.jpg"></p></blockquote><p>è®²è¿°äº†è¿™äº›åŸºæœ¬ä¸Šä¸€ä¸ªæ¡†æ¶ä½¿ç”¨å°±å¯ä»¥å¼€å§‹äº†ï¼Œå‰©ä¸‹çš„æ¥å£å°è£…ï¼Œstoreå®ç°å°±ä¸è¯¦ç»†è®²äº†ï¼Œæ¥å£å°è£…æˆ‘ç”¨çš„æ˜¯flyioï¼Œstoreå®ç°ä¸Šé¢ä¹Ÿè®²äº†é‡è¦çš„ç‚¹ã€‚</p><h2 id="mpvueå¼€å‘ä¸­é‡åˆ°çš„å‘ç‚¹"><a href="#mpvueå¼€å‘ä¸­é‡åˆ°çš„å‘ç‚¹" class="headerlink" title="mpvueå¼€å‘ä¸­é‡åˆ°çš„å‘ç‚¹"></a>mpvueå¼€å‘ä¸­é‡åˆ°çš„å‘ç‚¹</h2><h3 id="mpvueä¸­vueçš„å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¼šå­˜åœ¨é—®é¢˜ã€‚"><a href="#mpvueä¸­vueçš„å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¼šå­˜åœ¨é—®é¢˜ã€‚" class="headerlink" title="mpvueä¸­vueçš„å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¼šå­˜åœ¨é—®é¢˜ã€‚"></a>mpvueä¸­vueçš„å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¼šå­˜åœ¨é—®é¢˜ã€‚</h3><ul><li>vueä¸­å¯ä»¥ä½¿ç”¨filterè¿‡æ»¤ï¼Œmpvueä¸è¡Œ</li><li>vueä¸­å¯ä»¥ä½¿ç”¨domä¸­methodsæ–¹æ³•è°ƒç”¨è·å–è¿”å›å€¼ï¼Œ åœ¨mpvueä¸­ä¸è¡Œï¼Œå¯ä»¥è€ƒè™‘ç”¨computedè®¡ç®—å®ç°</li><li>vueä¸­å¸¸ç”¨çš„slotåœ¨mpvueä¹Ÿæˆäº†é¸¡è‚‹</li><li>åŸç”Ÿç»„ä»¶ä¸Šä¸è¦ä½¿ç”¨v-ifï¼Œä¾‹å¦‚mapå°†ä¼šå¯¼è‡´åœ°å›¾ä½ç½®ä¸åˆ·æ–°ï¼Œæ°´å°ï¼Œcanvasç»„ä»¶å°†ä¼šä¸æ›´æ–°æ•°æ®ç­‰</li></ul><p>é‡ç‚¹è¯´ä¸‹slotæˆ‘é‡åˆ°çš„å‘ï¼Œåœ¨vueä¸­ä½¿ç”¨slotä½¿ç”¨æ˜¯å¯¹slotè¿›è¡Œå…·ååŒ¹é…ï¼Œslotä¸­çš„domä½œç”¨åŸŸæ˜¯çˆ¶ç»„ä»¶çš„ä½œç”¨åŸŸï¼Œslotä¸­ç»„ä»¶åŒæ—¶å¯ä»¥ç»§ç»­åµŒå¥—ã€‚</p><p>é‚£å†mpvueä¸­æ˜¯ä»€ä¹ˆä¸ªæ ·å­å‘¢ã€‚ã€‚ã€‚æˆ‘åªæƒ³è¯´<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">```javascript</span><br><span class="line">&lt;select-city</span><br><span class="line">  @onCityChange=&quot;onCityChange&quot;</span><br><span class="line">  :selectAddress=&quot;selectAddress&quot;</span><br><span class="line">&gt;</span><br><span class="line">  &lt;template slot=&quot;default&quot;&gt;</span><br><span class="line">    &lt;section class=&quot;pickSection&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;picker&quot;&gt;&#123;&#123;selectAddress || &apos;åœ°åŒº&apos;&#125;&#125;&lt;/div&gt;</span><br><span class="line">      &lt;i-icon class=&quot;iconUnfold&quot; type=&quot;unfold&quot; /&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/select-city&gt;</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">ä¸Šé¢è¿™å—ä»£ç æ˜¯mpvueä¸­æˆªå–çš„ï¼Œ&lt;select-city/&gt;æ˜¯ä¸ªåœ°å€é€‰æ‹©å™¨ç»„ä»¶ï¼ŒåŸå…ˆæˆ‘è¦å®ç°çš„åŠŸèƒ½æ˜¯ä¼ ä¸ªonCityChangeæ–¹æ³•è¿›å»å¹¶è¿”å›ç»™æˆ‘åœ°å€ä¿¡æ¯ã€‚</span><br><span class="line">ç„¶åå°†åœ°å€ä¿¡æ¯å­˜åˆ°selectAddresså˜é‡é‡Œï¼Œå†åˆ·æ–°åˆ°`&lt;div class=&quot;picker&quot;&gt;&#123;&#123;selectAddress || &apos;åœ°åŒº&apos;&#125;&#125;&lt;/div&gt;`è¿™é‡Œï¼Œç„¶è€Œè¿™ä¹ˆåšäº†ï¼Œç„¶å¹¶åµ</span><br></pre></td></tr></table></figure></p><p>æœ€åæŸ¥é˜…èµ„æ–™åæˆ‘æ‰çŸ¥é“ï¼Œmpvueä¸­çš„slotåªèƒ½ä¼ é™æ€æ•°æ®ï¼Œä¸”éœ€è¦å¯¹slotå…·åï¼ŒslotåµŒå¥—æ— æ•ˆï¼Œæ›´å°´å°¬çš„æ˜¯ï¼Œslotä¸­çš„ä½œç”¨åŸŸç«Ÿç„¶æ˜¯åœ¨å­ç»„ä»¶é‡Œã€‚<br>æˆ‘æœ‰ç‚¹è’™ï¼Œç„¶åå°±åœ¨çˆ¶ç»„ä»¶ä¸Šä¼ é€’äº†ä¸ª<code>selectAddress</code>,ç„¶åæ‰èƒ½è·å–åœ°å€ä¿¡æ¯ã€‚<br><strong>å¯¹äºslotå¤§å®¶æåŠ›è¦æ±‚æ­¤åŠŸèƒ½å®Œå–„ä¸‹ï¼Œç›®å‰ä¸ºæ­¢è¿˜æœªå®ç°</strong></p><blockquote><p>å¦‚æœåœ¨å°ç¨‹åºåŸç”Ÿç»„ä»¶ä¸Šä¾‹å¦‚mapå’Œcanvasä¸­ä½¿ç”¨v-ifï¼Œmpvueåœ¨æ”¹å˜æ•°æ®æ—¶ä¼šå‘ç°è§†å›¾å¹¶æœªåˆ·æ–°ã€‚<br><strong>æˆ‘é‡‡å–çš„è§£å†³æªæ–½æ˜¯å°†è§†å›¾domä¿ç•™åœ¨æ–‡æ¡£æµä¸­ï¼Œå°†ç»„ä»¶å®šä½åˆ°è§†å›¾çœ‹ä¸åˆ°çš„åœ°æ–¹ï¼Œç¬¦åˆæ¡ä»¶å†å°†ä¹‹å®šä½åˆ°éœ€è¦çš„åœ°æ–¹å³å¯ã€‚</strong></p></blockquote><p>è¿™é‡Œåªé˜è¿°æˆ‘é‡åˆ°çš„å‘~~~åç»­é‡åˆ°å°†ç»§ç»­æ›´æ–°</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;å¯¹äºæœªæ¥è§¦è¿‡&lt;code&gt;å°ç¨‹åº&lt;/code&gt;çš„æˆ‘æ¥è¯´ï¼Œæƒ³èµ·æ‰‹åšä¸ªå°ç¨‹åºè¿˜æ˜¯è¦è´¹ç‚¹æ—¶é—´å»å­¦ä¹ ï¼Œä½†æ˜¯&lt;code&gt;mpvue&lt;/code&gt;çš„å‡ºç°è®©æˆ‘æèµ·äº†åšå°ç¨‹åºçš„å…´è¶£ã€‚ä»è€Œæˆ‘çš„ç¬¬ä¸€ä¸ªå°ç¨‹åºå°±è¿™ä¹ˆä»&lt;code&gt;mpvue&lt;/code&gt;ä¸­æ‘¸çˆ¬æ»šæ‰“ä¸­å¼€å§‹äº†&lt;/p&gt;
    
    </summary>
    
      <category term="mpvue" scheme="https://jiangjinjin1.github.io/categories/mpvue/"/>
    
    
      <category term="mpvue" scheme="https://jiangjinjin1.github.io/tags/mpvue/"/>
    
  </entry>
  
  <entry>
    <title>Reacté«˜é˜¶ç»„ä»¶(HOC)å…¥é—¨</title>
    <link href="https://jiangjinjin1.github.io/2018/11/16/React%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6-HOC-%E5%85%A5%E9%97%A8/"/>
    <id>https://jiangjinjin1.github.io/2018/11/16/Reacté«˜é˜¶ç»„ä»¶-HOC-å…¥é—¨/</id>
    <published>2018-11-16T07:24:47.000Z</published>
    <updated>2018-11-29T05:45:22.924Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;ä¹‹å‰çš„æ–‡ç« <a href="https://segmentfault.com/a/1190000008814336" target="_blank" rel="noopener">React Mixinså…¥é—¨æŒ‡å—</a>ä»‹ç»äº†React Mixinçš„ä½¿ç”¨ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­React Mixinçš„ä½œç”¨è¿˜æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œèƒ½å¤Ÿä½¿å¾—æˆ‘ä»¬åœ¨å¤šä¸ªç»„ä»¶ä¸­å…±ç”¨ç›¸åŒçš„æ–¹æ³•ã€‚ä½†æ˜¯å·¥ç¨‹ä¸­å¤§é‡ä½¿ç”¨Mixinä¹Ÿä¼šå¸¦æ¥éå¸¸å¤šçš„é—®é¢˜ã€‚<a href="https://twitter.com/dan_abramov" target="_blank" rel="noopener">Dan Abramov</a>åœ¨æ–‡ç« <a href="https://reactjs.org/blog/2016/07/13/mixins-considered-harmful.html" target="_blank" rel="noopener">Mixins Considered Harmful</a>ä»‹ç»äº†Mixinå¸¦æ¥çš„ä¸€äº›é—®é¢˜,æ€»ç»“ä¸‹æ¥ä¸»è¦æ˜¯ä»¥ä¸‹å‡ ç‚¹:</p></blockquote><a id="more"></a><ul><li><p>ç ´åç»„ä»¶å°è£…æ€§: Mixinå¯èƒ½ä¼šå¼•å…¥ä¸å¯è§çš„å±æ€§ã€‚ä¾‹å¦‚åœ¨æ¸²æŸ“ç»„ä»¶ä¸­ä½¿ç”¨Mixinæ–¹æ³•ï¼Œç»™ç»„ä»¶å¸¦æ¥äº†ä¸å¯è§çš„å±æ€§(props)å’ŒçŠ¶æ€(state)ã€‚å¹¶ä¸”Mixinå¯èƒ½ä¼šç›¸äº’ä¾èµ–ï¼Œç›¸äº’è€¦åˆï¼Œä¸åˆ©äºä»£ç ç»´æŠ¤ã€‚</p></li><li><p>ä¸åŒçš„Mixinä¸­çš„æ–¹æ³•å¯èƒ½ä¼šç›¸äº’å†²çª</p></li><li><p>ä¸ºäº†å¤„ç†ä¸Šè¿°çš„é—®é¢˜ï¼ŒReactå®˜æ–¹æ¨èä½¿ç”¨é«˜é˜¶ç»„ä»¶(High Order Component)</p></li></ul><h1 id="é«˜é˜¶ç»„ä»¶-HOC"><a href="#é«˜é˜¶ç»„ä»¶-HOC" class="headerlink" title="é«˜é˜¶ç»„ä»¶(HOC)"></a>é«˜é˜¶ç»„ä»¶(HOC)</h1><hr><p>  &nbsp;&nbsp;&nbsp;&nbsp;åˆšå¼€å§‹å­¦ä¹ é«˜é˜¶ç»„ä»¶æ—¶ï¼Œè¿™ä¸ªæ¦‚å¿µå°±é€æ¼ç€é«˜çº§çš„æ°”å‘³ï¼Œçœ‹ä¸Šå»å°±åƒæ˜¯ä¸€ç§å…ˆè¿›çš„ç¼–ç¨‹æŠ€æœ¯çš„ä¸€ä¸ªæ·±å¥¥æœ¯è¯­ï¼Œæ¯•ç«Ÿåå­—é‡Œå°±æœ‰â€é«˜é˜¶â€è¿™ç§å­—çœ¼ï¼Œå®è´¨ä¸Šå¹¶ä¸æ˜¯å¦‚æ­¤ã€‚é«˜é˜¶ç»„ä»¶çš„æ¦‚å¿µåº”è¯¥æ˜¯æ¥æºäºJavaScriptçš„é«˜é˜¶å‡½æ•°:</p><blockquote><p><code>é«˜é˜¶å‡½æ•°å°±æ˜¯æ¥å—å‡½æ•°ä½œä¸ºè¾“å…¥æˆ–è€…è¾“å‡ºçš„å‡½æ•°</code></p></blockquote><p>  è¿™ä¹ˆçœ‹æ¥<a href="https://segmentfault.com/a/1190000008193605" target="_blank" rel="noopener">æŸ¯é‡ŒåŒ–</a>ä¹Ÿæ˜¯é«˜é˜¶å‡½æ•°äº†ã€‚Reactå®˜æ–¹å®šä¹‰é«˜é˜¶ç»„ä»¶çš„æ¦‚å¿µæ˜¯:</p><blockquote><p><code>A higher-order component is a function that takes a component and returns a new component.</code></p></blockquote><p>  &nbsp;&nbsp;&nbsp;&nbsp;(å‚ç…§ç¿»è¯‘äº†Reactå®˜æ–¹æ–‡æ¡£çš„<a href="https://github.com/MrErHu/React-Advanced-Guides-CN" target="_blank" rel="noopener">Advanced Guides</a>éƒ¨åˆ†ï¼Œå®˜æ–¹çš„é«˜é˜¶ç»„ä»¶ä¸­æ–‡æ–‡æ¡£æˆ³<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FMrErHu%2FReact-Advanced-Guides-CN%2Fblob%2Fmaster%2Fdoc%2FHigher%2520Order%2520Components.md" target="_blank" rel="noopener">è¿™é‡Œ</a>)</p><p>  &nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¹ˆçœ‹æ¥ï¼Œé«˜é˜¶ç»„ä»¶ä»…ä»…åªæ˜¯æ˜¯ä¸€ä¸ªæ¥å—ç»„ä»¶ç»„ä½œè¾“å…¥å¹¶è¿”å›ç»„ä»¶çš„å‡½æ•°ã€‚çœ‹ä¸Šå»å¹¶æ²¡æœ‰ä»€ä¹ˆï¼Œé‚£ä¹ˆé«˜é˜¶ç»„ä»¶èƒ½ä¸ºæˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆçœ‹ä¸€ä¸‹é«˜é˜¶ç»„ä»¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå®ç°é«˜é˜¶ç»„ä»¶çš„æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§:</p><ol><li>å±æ€§ä»£ç†(Props Proxy)</li><li>åå‘ç»§æ‰¿(Inheritance Inversion)</li></ol><h2 id="å±æ€§ä»£ç†"><a href="#å±æ€§ä»£ç†" class="headerlink" title="å±æ€§ä»£ç†"></a>å±æ€§ä»£ç†</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;åˆæ˜¯ä¸€ä¸ªå¬èµ·æ¥å¾ˆé«˜å¤§ä¸Šçš„åè¯ï¼Œå®è´¨ä¸Šæ˜¯é€šè¿‡åŒ…è£¹åŸæ¥çš„ç»„ä»¶æ¥æ“ä½œpropsï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'React'</span>;</span><br><span class="line"><span class="comment">//é«˜é˜¶ç»„ä»¶å®šä¹‰</span></span><br><span class="line"><span class="keyword">const</span> HOC = <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">WrapperComponent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">return</span> &lt;WrappedComponent &#123;...this.props&#125; /&gt;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//æ™®é€šçš„ç»„ä»¶</span><br><span class="line">class WrappedComponent extends Component&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        //....</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//é«˜é˜¶ç»„ä»¶ä½¿ç”¨</span><br><span class="line">export default HOC(WrappedComponent)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢çš„ä¾‹å­éå¸¸ç®€å•ï¼Œä½†è¶³ä»¥è¯´æ˜é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥çœ‹è§å‡½æ•°HOCè¿”å›äº†æ–°çš„ç»„ä»¶(WrapperComponent)ï¼Œè¿™ä¸ªç»„ä»¶åŸå°ä¸åŠ¨çš„è¿”å›ä½œä¸ºå‚æ•°çš„ç»„ä»¶(ä¹Ÿå°±æ˜¯è¢«åŒ…è£¹çš„ç»„ä»¶:WrappedComponent)ï¼Œå¹¶å°†ä¼ ç»™å®ƒçš„å‚æ•°(props)å…¨éƒ¨ä¼ é€’ç»™è¢«åŒ…è£¹çš„ç»„ä»¶(WrappedComponent)ã€‚è¿™ä¹ˆçœ‹èµ·æ¥å¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆä½œç”¨ï¼Œå…¶å®å±æ€§ä»£ç†çš„ä½œç”¨è¿˜æ˜¯éå¸¸å¼ºå¤§çš„ã€‚</p><h2 id="æ“ä½œprops"><a href="#æ“ä½œprops" class="headerlink" title="æ“ä½œprops"></a>æ“ä½œprops</h2><p>ã€€ã€€&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬çœ‹åˆ°ä¹‹å‰è¦ä¼ é€’ç»™è¢«åŒ…è£¹ç»„ä»¶WrappedComponentçš„å±æ€§é¦–å…ˆä¼ é€’ç»™äº†é«˜é˜¶ç»„ä»¶è¿”å›çš„ç»„ä»¶(WrapperComponent)ï¼Œè¿™æ ·æˆ‘ä»¬å°±è·å¾—äº†propsçš„æ§åˆ¶æƒ(è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¿™ç§æ–¹æ³•å«åšå±æ€§ä»£ç†)ã€‚æˆ‘ä»¬å¯ä»¥æŒ‰ç…§éœ€è¦å¯¹ä¼ å…¥çš„propsè¿›è¡Œå¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹(å½“ç„¶ä¿®æ”¹å¸¦æ¥çš„é£é™©éœ€è¦ä½ è‡ªå·±æ¥æ§åˆ¶)ï¼Œä¸¾ä¸ªä¾‹å­:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HOC = <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">WrapperComponent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">        render() &#123;</span><br><span class="line">            <span class="keyword">const</span> newProps = &#123;</span><br><span class="line">                name: <span class="string">'HOC'</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> &lt;WrappedComponent</span><br><span class="line">                &#123;...this.props&#125;</span><br><span class="line">                &#123;...newProps&#125;</span><br><span class="line">            /&gt;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ºè¢«åŒ…è£¹ç»„ä»¶(WrappedComponent)æ–°å¢åŠ äº†å›ºå®šçš„nameå±æ€§ï¼Œå› æ­¤WrappedComponentç»„ä»¶ä¸­å°±ä¼šå¤šä¸€ä¸ªnameçš„å±æ€§ã€‚</p><h2 id="è·å¾—refsçš„å¼•ç”¨"><a href="#è·å¾—refsçš„å¼•ç”¨" class="headerlink" title="è·å¾—refsçš„å¼•ç”¨"></a>è·å¾—<code>refs</code>çš„å¼•ç”¨</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬åœ¨å±æ€§ä»£ç†ä¸­ï¼Œå¯ä»¥è½»æ¾çš„æ‹¿åˆ°è¢«åŒ…è£¹çš„ç»„ä»¶çš„å®ä¾‹å¼•ç”¨(<code>ref</code>)ï¼Œä¾‹å¦‚:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'React'</span>;</span><br><span class="line">ã€€</span><br><span class="line"><span class="keyword">const</span> HOC = <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">wrapperComponent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">        storeRef(ref) &#123;</span><br><span class="line">            <span class="keyword">this</span>.ref = ref;</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            <span class="keyword">return</span> &lt;WrappedComponent</span><br><span class="line">                &#123;...this.props&#125;</span><br><span class="line">                ref = &#123;::this.storeRef&#125;</span><br><span class="line">            /&gt;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒwrapperComponentæ¸²æŸ“æ¥å—åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‹¿åˆ°WrappedComponentç»„ä»¶çš„å®ä¾‹ï¼Œè¿›è€Œå®ç°è°ƒç”¨å®ä¾‹æ–¹æ³•çš„æ“ä½œ(å½“ç„¶è¿™æ ·ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šæ˜¯åæ¨¡å¼çš„ï¼Œä¸æ˜¯éå¸¸çš„æ¨è)ã€‚</p><h2 id="æŠ½è±¡state"><a href="#æŠ½è±¡state" class="headerlink" title="æŠ½è±¡state"></a>æŠ½è±¡state</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;å±æ€§ä»£ç†çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¢«åŒ…è£¹ç»„ä»¶(WrappedComponent)ä¸­çš„çŠ¶æ€æåˆ°åŒ…è£¹ç»„ä»¶ä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„ä¾‹å­å°±æ˜¯å®ç°ä¸å—æ§ç»„ä»¶åˆ°å—æ§çš„ç»„ä»¶çš„è½¬å˜(å…³äºä¸å—æ§ç»„ä»¶å’Œå—æ§ç»„ä»¶æˆ³<a href="https://github.com/MrErHu/React-Advanced-Guides-CN/blob/master/doc/Uncontrolled%20Components.md" target="_blank" rel="noopener">è¿™é‡Œ</a>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WrappedComponent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> &lt;input name="name" &#123;...this.props.name&#125; /&gt;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const HOC = (WrappedComponent) =&gt;</span><br><span class="line">    class extends Component &#123;</span><br><span class="line">        constructor(props) &#123;</span><br><span class="line">            super(props);</span><br><span class="line">            this.state = &#123;</span><br><span class="line">                name: '',</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            this.onNameChange = this.onNameChange.bind(this);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        onNameChange(event) &#123;</span><br><span class="line">            this.setState(&#123;</span><br><span class="line">                name: event.target.value,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        render() &#123;</span><br><span class="line">            const newProps = &#123;</span><br><span class="line">                name: &#123;</span><br><span class="line">                    value: this.state.name,</span><br><span class="line">                    onChange: this.onNameChange,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">            return &lt;WrappedComponent &#123;...this.props&#125; &#123;...newProps&#125; /&gt;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢çš„ä¾‹å­ä¸­é€šè¿‡é«˜é˜¶ç»„ä»¶ï¼Œæˆ‘ä»¬å°†ä¸å—æ§ç»„ä»¶(WrappedComponent)æˆåŠŸçš„è½¬å˜ä¸ºå—æ§ç»„ä»¶.</p><h2 id="ç”¨å…¶ä»–å…ƒç´ åŒ…è£¹ç»„ä»¶"><a href="#ç”¨å…¶ä»–å…ƒç´ åŒ…è£¹ç»„ä»¶" class="headerlink" title="ç”¨å…¶ä»–å…ƒç´ åŒ…è£¹ç»„ä»¶"></a>ç”¨å…¶ä»–å…ƒç´ åŒ…è£¹ç»„ä»¶</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»ä¼¼:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">render()&#123;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;WrappedComponent &#123;...this.props&#125; /&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;è¿™ç§æ–¹å¼å°†è¢«åŒ…è£¹ç»„ä»¶åŒ…è£¹èµ·æ¥ï¼Œæ¥å®ç°å¸ƒå±€æˆ–è€…æ˜¯æ ·å¼çš„ç›®çš„ã€‚<br></p><p>&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å±æ€§ä»£ç†è¿™ç§æ–¹å¼å®ç°çš„é«˜é˜¶ç»„ä»¶ï¼Œä»¥ä¸Šè¿°ä¸ºä¾‹ï¼Œç»„ä»¶çš„æ¸²æŸ“é¡ºåºæ˜¯: å…ˆWrappedComponentå†WrapperComponent(æ‰§è¡ŒComponentDidMountçš„æ—¶é—´)ã€‚è€Œå¸è½½çš„é¡ºåºæ˜¯å…ˆWrapperComponentå†WrappedComponent(æ‰§è¡ŒComponentWillUnmountçš„æ—¶é—´)ã€‚</p><h2 id="åå‘ç»§æ‰¿"><a href="#åå‘ç»§æ‰¿" class="headerlink" title="åå‘ç»§æ‰¿"></a>åå‘ç»§æ‰¿</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;åå‘ç»§æ‰¿æ˜¯æŒ‡è¿”å›çš„ç»„ä»¶å»ç»§æ‰¿ä¹‹å‰çš„ç»„ä»¶(è¿™é‡Œéƒ½ç”¨WrappedComponentä»£æŒ‡)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HOC = <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">super</span>.render();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å¯ä»¥çœ‹è§è¿”å›çš„ç»„ä»¶ç¡®å®éƒ½ç»§æ‰¿è‡ªWrappedComponent,é‚£ä¹ˆæ‰€æœ‰çš„è°ƒç”¨å°†æ˜¯åå‘è°ƒç”¨çš„(ä¾‹å¦‚:<code>super.render()</code>)ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå«åšåå‘ç»§æ‰¿ã€‚</p><h2 id="æ¸²æŸ“åŠ«æŒ"><a href="#æ¸²æŸ“åŠ«æŒ" class="headerlink" title="æ¸²æŸ“åŠ«æŒ"></a>æ¸²æŸ“åŠ«æŒ</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;æ¸²æŸ“åŠ«æŒæ˜¯æŒ‡æˆ‘ä»¬å¯ä»¥æœ‰æ„è¯†åœ°æ§åˆ¶WrappedComponentçš„æ¸²æŸ“è¿‡ç¨‹ï¼Œä»è€Œæ§åˆ¶æ¸²æŸ“æ§åˆ¶çš„ç»“æœã€‚ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥æ ¹æ®éƒ¨åˆ†å‚æ•°å»å†³å®šæ˜¯å¦æ¸²æŸ“ç»„ä»¶:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HOC = <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.props.isRender) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.render();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;ç”šè‡³æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¿®æ”¹renderçš„ç»“æœ:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¾‹å­æ¥æºäºã€Šæ·±å…¥ReactæŠ€æœ¯æ ˆã€‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> HOC = <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">        render() &#123;</span><br><span class="line">            <span class="keyword">const</span> elementsTree = <span class="keyword">super</span>.render();</span><br><span class="line">            <span class="keyword">let</span> newProps = &#123;&#125;;</span><br><span class="line">            <span class="keyword">if</span> (elementsTree &amp;&amp; elementsTree.type === <span class="string">'input'</span>) &#123;</span><br><span class="line">                newProps = &#123;<span class="attr">value</span>: <span class="string">'may the force be with you'</span>&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">const</span> props = <span class="built_in">Object</span>.assign(&#123;&#125;, elementsTree.props, newProps);</span><br><span class="line">            <span class="keyword">const</span> newElementsTree = React.cloneElement(elementsTree, props, elementsTree.props.children);</span><br><span class="line">            <span class="keyword">return</span> newElementsTree;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WrappedComponent</span> <span class="keyword">extends</span> <span class="title">Component</span></span>&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;input value=&#123;<span class="string">'Hello World'</span>&#125; /&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> HOC(WrappedComponent)</span><br><span class="line"><span class="comment">//å®é™…æ˜¾ç¤ºçš„æ•ˆæœæ˜¯inputçš„å€¼ä¸º"may the force be with you"</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬å°†WrappedComponentä¸­çš„inputå…ƒç´ valueå€¼ä¿®æ”¹ä¸º:<code>may the force be with youã€‚</code>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‰åelementTreeçš„åŒºåˆ«:<br>elementsTree:</p><p><img src="/images/react/react1.png"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;newElementsTree:</p><p><img src="/images/react/react2.png"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;åœ¨åå‘ç»§æ‰¿ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åšéå¸¸å¤šçš„æ“ä½œï¼Œä¿®æ”¹stateã€propsç”šè‡³æ˜¯ç¿»è½¬Element Treeã€‚åå‘ç»§æ‰¿æœ‰ä¸€ä¸ªé‡è¦çš„ç‚¹: <strong>åå‘ç»§æ‰¿ä¸èƒ½ä¿è¯å®Œæ•´çš„å­ç»„ä»¶æ ‘è¢«è§£æ</strong>ï¼Œå¼€å§‹æˆ‘å¯¹è¿™ä¸ªæ¦‚å¿µä¹Ÿä¸ç†è§£ï¼Œåæ¥åœ¨çœ‹äº†<a href="https://reactjs.org/blog/2015/12/18/react-components-elements-and-instances.html" target="_blank" rel="noopener">React Components</a>, <a href="https://reactjs.org/blog/2015/12/18/react-components-elements-and-instances.html" target="_blank" rel="noopener">Elements</a>, and <a href="https://reactjs.org/blog/2015/12/18/react-components-elements-and-instances.html" target="_blank" rel="noopener">Instances</a>è¿™ç¯‡æ–‡ç« ä¹‹åå¯¹è¿™ä¸ªæ¦‚å¿µæœ‰äº†è‡ªå·±çš„ä¸€ç‚¹ä½“ä¼šã€‚React Components, Elements, and Instancesè¿™ç¯‡æ–‡ç« ä¸»è¦æ˜ç¡®äº†ä¸€ä¸‹å‡ ä¸ªç‚¹:</p><p>&nbsp;&nbsp;&nbsp;&nbsp; + å…ƒç´ (element)æ˜¯ä¸€ä¸ªæ˜¯ç”¨DOMèŠ‚ç‚¹æˆ–è€…ç»„ä»¶æ¥æè¿°å±å¹•æ˜¾ç¤ºçš„çº¯å¯¹è±¡ï¼Œå…ƒç´ å¯ä»¥åœ¨å±æ€§(props.children)ä¸­åŒ…å«å…¶ä»–çš„å…ƒç´ ï¼Œä¸€æ—¦åˆ›å»ºå°±ä¸ä¼šæ”¹å˜ã€‚æˆ‘ä»¬é€šè¿‡<code>JSX</code>å’Œ<code>React.createClass</code>åˆ›å»ºçš„éƒ½æ˜¯å…ƒç´ ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp; + ç»„ä»¶(component)å¯ä»¥æ¥å—å±æ€§(props)ä½œä¸ºè¾“å…¥ï¼Œç„¶åè¿”å›ä¸€ä¸ªå…ƒç´ æ ‘(element tree)ä½œä¸ºè¾“å‡ºã€‚æœ‰å¤šç§å®ç°æ–¹å¼:Classæˆ–è€…å‡½æ•°(Function)ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;æ‰€ä»¥ï¼Œ<strong>åå‘ç»§æ‰¿ä¸èƒ½ä¿è¯å®Œæ•´çš„å­ç»„ä»¶æ ‘è¢«è§£æ</strong>çš„æ„æ€çš„è§£æçš„å…ƒç´ æ ‘ä¸­åŒ…å«äº†ç»„ä»¶(å‡½æ•°ç±»å‹æˆ–è€…Classç±»å‹)ï¼Œå°±ä¸èƒ½å†æ“ä½œç»„ä»¶çš„å­ç»„ä»¶äº†ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„<strong>ä¸èƒ½å®Œå…¨è§£æ</strong>ã€‚ä¸¾ä¸ªä¾‹å­:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MyFuncComponent = <span class="function">(<span class="params">props</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;Hello World&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">class MyClassComponent extends Component&#123;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    render()&#123;</span></span><br><span class="line"><span class="regexp">        return (</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;Hello World&lt;/</span>div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WrappedComponent</span> <span class="keyword">extends</span> <span class="title">Component</span></span>&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;span&gt;Hello World&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>div&gt;</span><br><span class="line">                &lt;MyFuncComponent /&gt;</span><br><span class="line">                &lt;MyClassComponent /&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const HOC = (WrappedComponent) =&gt;</span></span><br><span class="line"><span class="regexp">    class extends WrappedComponent &#123;</span></span><br><span class="line"><span class="regexp">        render() &#123;</span></span><br><span class="line"><span class="regexp">            const elementsTree = super.render();</span></span><br><span class="line"><span class="regexp">            return elementsTree;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default HOC(WrappedComponent);</span></span><br></pre></td></tr></table></figure><p><img src="/images/react/react3.png"></p><p><img src="/images/react/react4.png"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹è§£æçš„å…ƒç´ æ ‘(element tree)ï¼Œ<code>div</code>ä¸‹çš„<code>span</code>æ˜¯å¯ä»¥è¢«å®Œå…¨è¢«è§£æçš„ï¼Œä½†æ˜¯<code>MyFuncComponent</code>å’Œ<code>MyClassComponent</code>éƒ½æ˜¯ç»„ä»¶ç±»å‹çš„ï¼Œå…¶å­ç»„ä»¶å°±ä¸èƒ½è¢«å®Œå…¨è§£æäº†ã€‚</p><h2 id="æ“ä½œpropså’Œstate"><a href="#æ“ä½œpropså’Œstate" class="headerlink" title="æ“ä½œpropså’Œstate"></a>æ“ä½œpropså’Œstate</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä¸Šé¢çš„å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè§£æçš„å…ƒç´ æ ‘(element tree)ä¸­å«æœ‰<code>props</code>å’Œ<code>state</code>(ä¾‹å­çš„ç»„ä»¶ä¸­æ²¡æœ‰state),ä»¥åŠ<code>ref</code>å’Œ<code>key</code>ç­‰å€¼ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥è¯»å–<code>props</code>å’Œ<code>state</code>,ç”šè‡³å¯ä»¥ä¿®æ”¹å¢åŠ ã€ä¿®æ”¹å’Œåˆ é™¤ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¸ºé«˜é˜¶å±æ€§ä¼ å…¥ä¸€äº›å‚æ•°ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æŸ¯é‡ŒåŒ–çš„å½¢å¼ä¼ å…¥å‚æ•°ï¼Œä¾‹å¦‚:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'React'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> HOCFactoryFactory = <span class="function">(<span class="params">...params</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å¯ä»¥åšä¸€äº›æ”¹å˜ params çš„äº‹</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">HOC</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">            render() &#123;</span><br><span class="line">                <span class="keyword">return</span> &lt;WrappedComponent &#123;...this.props&#125; /&gt;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹å¼ä½¿ç”¨:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HOCFactoryFactory(params)(WrappedComponent)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;è¿™ç§æ–¹å¼æ˜¯ä¸æ˜¯éå¸¸ç±»ä¼¼äº<code>React-Redux</code>åº“ä¸­çš„<code>connect</code>å‡½æ•°ï¼Œå› ä¸º<code>connect</code>ä¹Ÿæ˜¯ç±»ä¼¼çš„ä¸€ç§é«˜é˜¶å‡½æ•°ã€‚åå‘ç»§æ‰¿ä¸åŒäºå±æ€§ä»£ç†çš„è°ƒç”¨é¡ºåºï¼Œç»„ä»¶çš„æ¸²æŸ“é¡ºåºæ˜¯: å…ˆWrappedComponentå†WrapperComponent(æ‰§è¡ŒComponentDidMountçš„æ—¶é—´)ã€‚è€Œå¸è½½çš„é¡ºåºä¹Ÿæ˜¯å…ˆWrappedComponentå†WrapperComponent(æ‰§è¡ŒComponentWillUnmountçš„æ—¶é—´)ã€‚</p><h2 id="HOCå’ŒMixinçš„æ¯”è¾ƒ"><a href="#HOCå’ŒMixinçš„æ¯”è¾ƒ" class="headerlink" title="HOCå’ŒMixinçš„æ¯”è¾ƒ"></a>HOCå’ŒMixinçš„æ¯”è¾ƒ</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;å€Ÿç”¨ã€Šæ·±å…¥ReactæŠ€æœ¯æ ˆã€‹ä¸€ä¹¦ä¸­çš„å›¾:</p><p><img src="/images/react/react5.png"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;é«˜é˜¶ç»„ä»¶å±äºå‡½æ•°å¼ç¼–ç¨‹(functional programming)æ€æƒ³ï¼Œå¯¹äºè¢«åŒ…è£¹çš„ç»„ä»¶æ—¶ä¸ä¼šæ„ŸçŸ¥åˆ°é«˜é˜¶ç»„ä»¶çš„å­˜åœ¨ï¼Œè€Œé«˜é˜¶ç»„ä»¶è¿”å›çš„ç»„ä»¶ä¼šåœ¨åŸæ¥çš„ç»„ä»¶ä¹‹ä¸Šå…·æœ‰åŠŸèƒ½å¢å¼ºçš„æ•ˆæœã€‚è€ŒMixinè¿™ç§æ··å…¥çš„æ¨¡å¼ï¼Œä¼šç»™ç»„ä»¶ä¸æ–­å¢åŠ æ–°çš„æ–¹æ³•å’Œå±æ€§ï¼Œç»„ä»¶æœ¬èº«ä¸ä»…å¯ä»¥æ„ŸçŸ¥ï¼Œç”šè‡³éœ€è¦åšç›¸å…³çš„å¤„ç†(ä¾‹å¦‚å‘½åå†²çªã€çŠ¶æ€ç»´æŠ¤)ï¼Œä¸€æ—¦æ··å…¥çš„æ¨¡å—å˜å¤šæ—¶ï¼Œæ•´ä¸ªç»„ä»¶å°±å˜çš„éš¾ä»¥ç»´æŠ¤ï¼Œä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¦‚æ­¤å¤šçš„Reactåº“éƒ½é‡‡ç”¨é«˜é˜¶ç»„ä»¶çš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä¹‹å‰çš„æ–‡ç« &lt;a href=&quot;https://segmentfault.com/a/1190000008814336&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;React Mixinså…¥é—¨æŒ‡å—&lt;/a&gt;ä»‹ç»äº†React Mixinçš„ä½¿ç”¨ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­React Mixinçš„ä½œç”¨è¿˜æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œèƒ½å¤Ÿä½¿å¾—æˆ‘ä»¬åœ¨å¤šä¸ªç»„ä»¶ä¸­å…±ç”¨ç›¸åŒçš„æ–¹æ³•ã€‚ä½†æ˜¯å·¥ç¨‹ä¸­å¤§é‡ä½¿ç”¨Mixinä¹Ÿä¼šå¸¦æ¥éå¸¸å¤šçš„é—®é¢˜ã€‚&lt;a href=&quot;https://twitter.com/dan_abramov&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Dan Abramov&lt;/a&gt;åœ¨æ–‡ç« &lt;a href=&quot;https://reactjs.org/blog/2016/07/13/mixins-considered-harmful.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Mixins Considered Harmful&lt;/a&gt;ä»‹ç»äº†Mixinå¸¦æ¥çš„ä¸€äº›é—®é¢˜,æ€»ç»“ä¸‹æ¥ä¸»è¦æ˜¯ä»¥ä¸‹å‡ ç‚¹:&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="react" scheme="https://jiangjinjin1.github.io/categories/react/"/>
    
    
      <category term="react" scheme="https://jiangjinjin1.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>markdownåŸºç¡€è¯­æ³•</title>
    <link href="https://jiangjinjin1.github.io/2018/11/16/markdown%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"/>
    <id>https://jiangjinjin1.github.io/2018/11/16/markdownåŸºç¡€è¯­æ³•/</id>
    <published>2018-11-16T05:59:03.000Z</published>
    <updated>2018-11-29T05:45:34.180Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-markdownæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-markdownæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ"></a>1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ</h1><blockquote><p>Markdownæ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒä»¥çº¯æ–‡æœ¬å½¢å¼(æ˜“è¯»ã€æ˜“å†™ã€æ˜“æ›´æ”¹)ç¼–å†™æ–‡æ¡£ï¼Œå¹¶æœ€ç»ˆä»¥HTMLæ ¼å¼å‘å¸ƒã€‚<br>Markdownä¹Ÿå¯ä»¥ç†è§£ä¸ºå°†ä»¥MARKDOWNè¯­è¨€ç¼–å†™çš„è¯­è¨€è½¬æ¢æˆHTMLå†…å®¹çš„å·¥å…·ï¼Œæœ€åˆæ˜¯ä¸€ä¸ªperlè„šæœ¬Markdown.plã€‚</p></blockquote><a id="more"></a><h1 id="2-markdownè¯­æ³•"><a href="#2-markdownè¯­æ³•" class="headerlink" title="2. markdownè¯­æ³•"></a>2. markdownè¯­æ³•</h1><h2 id="2-1-æ ‡é¢˜"><a href="#2-1-æ ‡é¢˜" class="headerlink" title="2.1 æ ‡é¢˜"></a>2.1 æ ‡é¢˜</h2><p>æ ‡é¢˜æœ‰ä¸¤ç§å½¢å¼ï¼š<br>(1) ç¬¬ä¸€ç§æ˜¯ç”¨=æˆ–è€…-è¡¨ç¤ºä¸€çº§æˆ–è€…äºŒçº§æ ‡é¢˜</p><blockquote><p>ä¸€çº§æ ‡é¢˜<br><code>======</code><br>äºŒçº§æ ‡é¢˜<br><code>------</code></p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><h1 id="ä¸€çº§æ ‡é¢˜down"><a href="#ä¸€çº§æ ‡é¢˜down" class="headerlink" title="ä¸€çº§æ ‡é¢˜down"></a>ä¸€çº§æ ‡é¢˜down</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2></blockquote><p>(2) ç¬¬äºŒç§å°±æ˜¯#æ¥è¡¨ç¤º1-6çº§æ ‡é¢˜ï¼Œä¸HTMLçš„h1-h6ç›¸ä¼¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; #ä¸€çº§æ ‡é¢˜</span><br><span class="line">&gt; ##äºŒçº§æ ‡é¢˜</span><br><span class="line">&gt; ###ä¸‰çº§æ ‡é¢˜</span><br><span class="line">&gt; ####å››çº§æ ‡é¢˜</span><br><span class="line">&gt; #####äº”çº§æ ‡é¢˜</span><br><span class="line">&gt; ######å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜-1"><a href="#äºŒçº§æ ‡é¢˜-1" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6><h2 id="2-2-å¼•ç”¨"><a href="#2-2-å¼•ç”¨" class="headerlink" title="2.2 å¼•ç”¨"></a>2.2 å¼•ç”¨</h2><p>åœ¨æ®µè½çš„æ¯è¡Œæˆ–è€…åªåœ¨ç¬¬ä¸€è¡Œä½¿ç”¨ç¬¦å·&gt;,è¿˜å¯ä½¿ç”¨å¤šä¸ªåµŒå¥—å¼•ç”¨ï¼Œå¦‚ï¼š</p><blockquote><p>>å¼•ç”¨<br>  >>åµŒå¥—å¼•ç”¨</p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p>å¼•ç”¨</p><blockquote><p>åµŒå¥—å¼•ç”¨</p></blockquote></blockquote><h2 id="2-3-ä»£ç å—"><a href="#2-3-ä»£ç å—" class="headerlink" title="2.3 ä»£ç å—"></a>2.3 ä»£ç å—</h2><p>ä»£ç å—å¯ä»¥åœ¨æ¯è¡ŒåŠ ä¸Šå››ä¸ªç©ºæ ¼æ¥è¡¨ç¤ºä»£ç åŒºåŸŸï¼Œæ•ˆæœå¦‚ï¼š</p><blockquote><p>   function foo(){<br>         return;<br>   }</p></blockquote><p>æˆ–è€…åœ¨å¼€å§‹ä¸ç»“å°¾ç”¨è¡¨ç¤ºä¸€æ ·å¯ä»¥ï¼Œæ•ˆæœåŒä¸Šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">&gt; <span class="keyword">return</span>;</span><br><span class="line">&gt; &#125;</span><br></pre></td></tr></table></figure><h2 id="2-4-ç¬¦å·"><a href="#2-4-ç¬¦å·" class="headerlink" title="2.4 ``ç¬¦å·"></a>2.4 ``ç¬¦å·</h2><p>``å¯ä»¥ç”¨æ¥è¡¨ç¤ºç›¸å¯¹è¾ƒå°åŒºåŸŸçš„ä»£ç å†…å®¹ï¼Œæˆ–è€…èµ·åˆ°æ ‡è®°ä½œç”¨ï¼Œå¦‚</p><blockquote><p>`æ ‡è®°`</p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p><code>æ ‡è®°</code></p></blockquote><h2 id="2-5-å¼ºè°ƒä¸æ–œä½“"><a href="#2-5-å¼ºè°ƒä¸æ–œä½“" class="headerlink" title="2.5 å¼ºè°ƒä¸æ–œä½“"></a>2.5 å¼ºè°ƒä¸æ–œä½“</h2><p>åœ¨å¼ºè°ƒå†…å®¹ä¸¤ä¾§åˆ†åˆ«åŠ ä¸Š*æˆ–è€…_ï¼Œå¦‚ï¼š</p><blockquote><p>*æ–œä½“ï¼Œ_æ–œä½“_<br>**ç²—ä½“**ï¼Œ__ç²—ä½“__</p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p><em>æ–œä½“</em>ï¼Œ<em>æ–œä½“</em><br><strong>ç²—ä½“</strong>ï¼Œ<strong>ç²—ä½“</strong></p></blockquote><h2 id="2-6-æœ‰åºåˆ—è¡¨ä¸æ— åºåˆ—è¡¨"><a href="#2-6-æœ‰åºåˆ—è¡¨ä¸æ— åºåˆ—è¡¨" class="headerlink" title="2.6 æœ‰åºåˆ—è¡¨ä¸æ— åºåˆ—è¡¨"></a>2.6 æœ‰åºåˆ—è¡¨ä¸æ— åºåˆ—è¡¨</h2><p>ä½¿ç”¨*ã€+ã€æˆ–-æ ‡è®°æ— åºåˆ—è¡¨ï¼Œå¦‚ï¼š</p><blockquote><p>(+-) ç¬¬ä¸€é¡¹ (+-) ç¬¬äºŒé¡¹<br>*(+-) ç¬¬ä¸‰é¡¹</p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><ul><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li><li>ç¬¬ä¸‰é¡¹</li></ul></blockquote><p>ä½¿ç”¨æ•°å­—123åŠ ä¸Š.å³æ˜¯æœ‰åºåˆ—è¡¨ï¼Œå¦‚ï¼š</p><blockquote><ol><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li><li>ç¬¬ä¸‰é¡¹</li></ol></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p>1.ç¬¬ä¸€é¡¹<br>2.ç¬¬äºŒé¡¹<br>3.ç¬¬ä¸‰é¡¹</p></blockquote><h2 id="2-7-åˆ†å‰²çº¿"><a href="#2-7-åˆ†å‰²çº¿" class="headerlink" title="2.7 åˆ†å‰²çº¿"></a>2.7 åˆ†å‰²çº¿</h2><p>åˆ†å‰²çº¿æœ€å¸¸ä½¿ç”¨å°±æ˜¯ä¸‰ä¸ªæˆ–ä»¥ä¸Š*ï¼Œè¿˜å¯ä»¥ä½¿ç”¨-å’Œ_ï¼Œå¦‚ï¼š</p><blockquote><p>æˆ‘æ˜¯åˆ†å‰²çº¿1<br>***<br>æˆ‘æ˜¯åˆ†å‰²çº¿2<br>â€”â€”â€”<br>æˆ‘æ˜¯åˆ†å‰²çº¿3<br>___</p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>æˆ‘æ˜¯åˆ†å‰²çº¿1</p><hr><h2 id="æˆ‘æ˜¯åˆ†å‰²çº¿2"><a href="#æˆ‘æ˜¯åˆ†å‰²çº¿2" class="headerlink" title="æˆ‘æ˜¯åˆ†å‰²çº¿2"></a>æˆ‘æ˜¯åˆ†å‰²çº¿2</h2><p>æˆ‘æ˜¯åˆ†å‰²çº¿3</p><hr><h2 id="2-8-é“¾æ¥"><a href="#2-8-é“¾æ¥" class="headerlink" title="2.8 é“¾æ¥"></a>2.8 é“¾æ¥</h2><p>é“¾æ¥ç”±[]ä¸()ç»„æˆï¼Œ[]ä¸­çš„æŒ‡æè¿°ï¼Œ()ä¸­è·Ÿé“¾æ¥åœ°å€ï¼Œå¦‚ï¼š</p><blockquote><p>[ç™¾åº¦](<a href="https://www.baidu.com/" target="_blank" rel="noopener">https://www.baidu.com/</a>)</p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><blockquote><p><a href="https://www.baidu.com/" target="_blank" rel="noopener">ç™¾åº¦</a></p></blockquote><h2 id="2-9-å›¾ç‰‡å¼•å…¥"><a href="#2-9-å›¾ç‰‡å¼•å…¥" class="headerlink" title="2.9 å›¾ç‰‡å¼•å…¥"></a>2.9 å›¾ç‰‡å¼•å…¥</h2><blockquote><p>![å›¾ç‰‡](å›¾ç‰‡åœ°å€)</p></blockquote><p>æ•ˆæœå¦‚ä¸‹</p><blockquote><p><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/6h85RMsib6oGMKz0eibALsD1ricmicj6gUbUWAOs0C6Ynhf7Na6IBLyoWpHxTnHAZoAdznwicTf1Xaa61xdnEjV1QTg/132" alt="å›¾ç‰‡"></p></blockquote><p>2.9 è¡¨æ ¼<br>å†™æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">First Header | Second Header | Third Header</span><br><span class="line">------------ | ------------- | ------------</span><br><span class="line">Content Cell | Content Cell  | Content Cell</span><br><span class="line">Content Cell | Content Cell  | Content Cell</span><br></pre></td></tr></table></figure><p>åœ¨ Markdown ä¸­ï¼Œå¯ä»¥åˆ¶ä½œè¡¨æ ¼ï¼Œä¾‹å¦‚ï¼š</p><table><thead><tr><th>First Header</th><th>Second Header</th><th>Third Header</th></tr></thead><tbody><tr><td>Content Cell</td><td>Content Cell</td><td>Content Cell</td></tr><tr><td>Content Cell</td><td>Content Cell</td><td>Content Cell</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-markdownæ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-markdownæ˜¯ä»€ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;Markdownæ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒä»¥çº¯æ–‡æœ¬å½¢å¼(æ˜“è¯»ã€æ˜“å†™ã€æ˜“æ›´æ”¹)ç¼–å†™æ–‡æ¡£ï¼Œå¹¶æœ€ç»ˆä»¥HTMLæ ¼å¼å‘å¸ƒã€‚&lt;br&gt;Markdownä¹Ÿå¯ä»¥ç†è§£ä¸ºå°†ä»¥MARKDOWNè¯­è¨€ç¼–å†™çš„è¯­è¨€è½¬æ¢æˆHTMLå†…å®¹çš„å·¥å…·ï¼Œæœ€åˆæ˜¯ä¸€ä¸ªperlè„šæœ¬Markdown.plã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="å·¥å…·ç±»" scheme="https://jiangjinjin1.github.io/categories/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
    
      <category term="å·¥å…·ç±»" scheme="https://jiangjinjin1.github.io/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>RSAåŠ è§£å¯†ç­¾åç”¨æ³•</title>
    <link href="https://jiangjinjin1.github.io/2017/08/11/RSA%E5%8A%A0%E8%A7%A3%E5%AF%86%E7%AD%BE%E5%90%8D%E7%94%A8%E6%B3%95/"/>
    <id>https://jiangjinjin1.github.io/2017/08/11/RSAåŠ è§£å¯†ç­¾åç”¨æ³•/</id>
    <published>2017-08-11T03:26:23.000Z</published>
    <updated>2018-11-29T05:45:30.083Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>éå¯¹ç§°åŠ å¯†æŠ€æœ¯æ˜¯ä¿è¯æˆ‘ä»¬ä¿¡æ¯å®‰å…¨éå¸¸é‡è¦çš„æŠ€æœ¯ã€‚ RSAä¾¿æ˜¯å…¶ä¸­ç¿˜æ¥šï¼Œ åº”ç”¨å¹¿æ³›ã€‚æœ¬æ–‡ä»…ä»å®ç”¨çš„è§’åº¦ï¼Œ æ€»ç»“ä¸€ä¸‹<code>js</code>è¯­è¨€ä¸­ï¼Œ RSAåŠ è§£å¯†å’Œç­¾ååŠ è§£å¯†çš„å®ç°ã€‚</p><a id="more"></a><p>åˆ†äº«ä¸¤ä¸ªåº“ï¼Œéƒ½æ˜¯ç”¨æ¥åŠ è§£å¯†çš„ï¼Œ<a href="https://github.com/kjur/jsrsasign" target="_blank" rel="noopener">https://github.com/kjur/jsrsasign</a> <a href="https://github.com/travist/jsencrypt" target="_blank" rel="noopener">https://github.com/travist/jsencrypt</a><br>ç”±äº<code>jsrsasign</code>åº“åŠ å¯†ä¸šåŠ¡æ•°æ®æ€»æ˜¯å‡ºç°æŠ¥é”™ï¼Œä¹‹åå°±ç”¨äº†<code>jsencrypt</code>æ¥å®ç°äº†ä¸šåŠ¡æ•°æ®çš„åŠ å¯†ï¼Œå†é€šè¿‡<code>jsrsasign</code>æ¥å®ç°ç­¾åä»¥åŠç­¾åæ ¡éªŒ</p><p><code>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“åŠ å¯†è§£å¯†çš„å®ç°ï¼Œè¦æ˜ç™½æ€ä¹ˆå»åŠ å¯†ï¼Œåˆæ€ä¹ˆå»è§£å¯†ï¼Œè¿™ä¸ªåœ°æ–¹å°±è¦æ±‚æˆ‘ä»¬çŸ¥é“éå¯¹ç§°å¯†é’¥å¯¹çš„æ¦‚å¿µï¼Œä»€ä¹ˆæ˜¯å¯†é’¥å¯¹ï¼Œå°±æ˜¯åŒæ–¹ä¹‹é—´äº’ç›¸æä¾›å…¬é’¥æ¥å®ç°åŠ å¯†è§£å¯†ç”¨çš„å¯†ç ï¼Œå®ç°åŠ è§£å¯†è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼šã€€ã€€ï¼ˆ1ï¼‰ä¹™æ–¹ç”Ÿæˆä¸¤æŠŠå¯†é’¥ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰ã€‚å…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—ï¼Œç§é’¥åˆ™æ˜¯ä¿å¯†çš„ã€‚ã€€ã€€ï¼ˆ2ï¼‰ç”²æ–¹è·å–ä¹™æ–¹çš„å…¬é’¥ï¼Œç„¶åç”¨å®ƒå¯¹ä¿¡æ¯åŠ å¯†ã€‚ã€€ã€€ï¼ˆ3ï¼‰ä¹™æ–¹å¾—åˆ°åŠ å¯†åçš„ä¿¡æ¯ï¼Œç”¨ç§é’¥è§£å¯†ã€‚</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> encryptMethod = <span class="function">(<span class="params">bussinessParams: <span class="built_in">Object</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//è¿™éƒ¨åˆ†æ˜¯åŠ å¯†ä¸šåŠ¡æ•°æ®çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> encrypt = <span class="keyword">new</span> JSEncrypt()</span><br><span class="line">    encrypt.setPublicKey(publicKey)</span><br><span class="line">    <span class="keyword">const</span> encrypted = encrypt.encrypt(<span class="built_in">encodeURIComponent</span>(</span><br><span class="line">      <span class="built_in">JSON</span>.stringify(bussinessParams)))</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"å…¬é’¥åŠ å¯†åï¼ŒåŸæ–‡ : "</span> + encrypted);</span><br><span class="line">    <span class="keyword">return</span> encrypted</span><br><span class="line">    <span class="comment">// ç§é’¥è§£å¯†</span></span><br><span class="line">    <span class="keyword">var</span> decrypt = <span class="keyword">new</span> JSEncrypt();</span><br><span class="line">    decrypt.setPrivateKey(privKey);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"å…¬é’¥åŠ å¯†å¯†æ–‡ : "</span> + encrypted);</span><br><span class="line">    <span class="keyword">var</span> uncrypted = decrypt.decrypt(encrypted);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"ç§é’¥è§£å¯†åï¼ŒåŸæ–‡ : "</span> + uncrypted);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    Alert.alert(<span class="string">`RSA <span class="subst">$&#123;e&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¯‰è¯´çš„æ˜¯ä¸šåŠ¡æ•°æ®çš„åŠ å¯†</p><p><code>æˆ‘ä»¬åŠ å¯†å®Œä¸šåŠ¡æ•°æ®ä¿¡æ¯è¿˜æƒ³è¦ä¸€ç§ä¸œè¥¿æ¥éªŒè¯æˆ‘çš„ä¸šåŠ¡æ•°æ®æ˜¯å¦è¢«ä¸²æ”¹ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç­¾åçš„æ–¹æ³•æ¥å®ç°éªŒè¯æ˜¯å¦ä¸²æ”¹ä¿¡æ¯ï¼Œç­¾åæ˜¯éœ€è¦æ‹¿å·±æ–¹ç§é’¥å¯¹åŠ å¯†è¿‡çš„ä¸šåŠ¡æ•°æ®è¿›è¡Œç­¾åï¼Œç­¾å®Œåä¹‹åæŠŠåŠ å¯†æ•°æ®å’Œç­¾åä¸²éƒ½ä¼ ç»™å¯¹æ–¹ï¼Œå¯¹æ–¹ç”¨å·±æ–¹æä¾›çš„å…¬é’¥è¿›è¡Œç­¾åçš„æ ¡éªŒï¼Œç›´æ¥ä¸Šä»£ç </code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> sign = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> sig = <span class="keyword">new</span> KJUR.crypto.Signature(&#123; <span class="attr">alg</span>: <span class="string">'SHA1withRSA'</span> &#125;)</span><br><span class="line">    sig.init(privateKey)</span><br><span class="line">    sig.updateString(encrypted)<span class="comment">//æ­¤å¤„encryptedæ˜¯åŠ å¯†çš„ä¸šåŠ¡æ•°æ®</span></span><br><span class="line">    <span class="keyword">const</span> hSigVal = <span class="built_in">encodeURIComponent</span>(sig.sign())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> sig1 = <span class="keyword">new</span> KJUR.crypto.Signature(&#123; <span class="attr">alg</span>: <span class="string">'SHA1withRSA'</span> &#125;)</span><br><span class="line">    sig1.init(publicKey)<span class="comment">//æ­¤å¤„éœ€è¦å…¬é’¥å»å¯¹ç­¾åè¿›è¡Œæ ¡éªŒ</span></span><br><span class="line">    sig1.updateString(encrypted)</span><br><span class="line">    <span class="keyword">const</span> verified = sig1.verify(hSigVal)</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"ç­¾åæ ¡éªŒåç»“æœ : "</span> + verified);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    Alert.alert(<span class="string">`RSA <span class="subst">$&#123;e&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯ç­¾åçš„apiæ–‡æ¡£ï¼š<a href="https://kjur.github.io/jsrsasign/api/symbols/KJUR.crypto.Signature.html" target="_blank" rel="noopener">https://kjur.github.io/jsrsasign/api/symbols/KJUR.crypto.Signature.html</a><br>ç­¾åæ ¡éªŒçš„demoï¼š<a href="https://kjur.github.io/jsrsasign/sample/sample-rsasign.html" target="_blank" rel="noopener">https://kjur.github.io/jsrsasign/sample/sample-rsasign.html</a><br>å‘½ä»¤ç”Ÿæˆå¯†é’¥æ–‡æ¡£ï¼š<a href="http://www.cnblogs.com/littleatp/p/5878763.html" target="_blank" rel="noopener">http://www.cnblogs.com/littleatp/p/5878763.html</a></p><p><code>JavaScript RSA è¶…é•¿å­—ç¬¦åŠ è§£å¯†åˆšåˆšæ¥è§¦åˆ°RSAå½“æ—¶ä¸äº†è§£ï¼ŒRSAåŠ è§£å¯†æ˜¯æœ‰å­—ç¬¦ä¸²é•¿åº¦é™åˆ¶çš„ï¼ŒåŠ å¯†æœ€å¤§å­—ç¬¦é•¿åº¦æ˜¯117ä½ï¼Œè§£å¯†æœ€å¤§é•¿åº¦æ˜¯128ä½ã€‚ç”¨åˆ°çš„JSåº“JSEncrypt,åˆšå¼€å§‹æ‰¾äº†å¥½å‡ ä¸ª,å‘ç°å°±è¿™ä¸ªå¥½ç”¨ä¸€äº›,æ¢å›æ¥äº†(é€”ä¸­é‡åˆ°å¾ˆå¤šå‘ï¼Œä¸€æ­¥ä¸€ä¸ªå‘è¿‡æ¥çš„)ã€‚è¿™ä¸ªåº“çš„ç¼ºé™·ï¼šæ²¡æ³•ç”¨å…¬é’¥è§£å¯†åªèƒ½åŠ å¯†ï¼Œç§é’¥æ²¡æ³•åŠ å¯†åªèƒ½</code></p><p>åˆ†æ®µåŠ å¯†æ–¹æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The right encryption code</span></span><br><span class="line">JSEncrypt.prototype.encryptLong = <span class="function"><span class="keyword">function</span>(<span class="params">string</span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">var</span> k = <span class="keyword">this</span>.getKey();</span><br><span class="line">  <span class="keyword">var</span> maxLength = (((k.n.bitLength()+<span class="number">7</span>)&gt;&gt;<span class="number">3</span>)<span class="number">-11</span>);<span class="comment">//æ­¤å¤„æ˜¯ç®—æ³•æ¥ç®—å‡ºä½ çš„å¯†é’¥å¯ä»¥æ”¯æŒçš„æœ€å¤§åŠ å¯†å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> lt = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">var</span> ct = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (string.length &gt; maxLength) &#123;</span><br><span class="line">      lt = string.match(<span class="regexp">/.&#123;1,117&#125;/g</span>);</span><br><span class="line">      lt.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">entry</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> t1 = k.encrypt(entry);</span><br><span class="line">        ct += t1 ;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">return</span> hex2b64(ct);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> t = k.encrypt(string);</span><br><span class="line">    <span class="keyword">var</span> y = hex2b64(t);</span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>åˆ†æ®µè§£å¯†æ–¹æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The error decryption code</span></span><br><span class="line">JSEncrypt.prototype.decryptLong = <span class="function"><span class="keyword">function</span>(<span class="params">string</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> k = <span class="keyword">this</span>.getKey();</span><br><span class="line">  <span class="keyword">var</span> maxLength = ((k.n.bitLength()+<span class="number">7</span>)&gt;&gt;<span class="number">3</span>);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> string = b64tohex(string);</span><br><span class="line">    <span class="keyword">var</span> ct = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span> (string.length &gt; maxLength) &#123;</span><br><span class="line">      <span class="keyword">var</span> lt = string.match(<span class="regexp">/.&#123;1,128&#125;/g</span>);</span><br><span class="line">      lt.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">entry</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> t1 = k.decrypt(entry);</span><br><span class="line">        ct += t1;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> y = k.decrypt(b64tohex(string));</span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>æ­¤ç¯‡æ–‡ç« åªæ˜¯ä¸ªäººåœ¨ä½¿ç”¨è¿™ä¸¤ä¸ªåº“ä¸­çš„ä½¿ç”¨çš„æ„Ÿå—ï¼Œ<code>jsencrypt</code>å¯ä»¥åŠ è§£å¯†ä½†æ˜¯ä¸å­˜åœ¨ç­¾åæ–¹æ³•ï¼Œ <code>jsrsasign</code>å¯ä»¥ç­¾åï¼Œä½†æ˜¯ä½¿ç”¨è¿‡ç¨‹ä¸­åŠ å¯†æ–¹æ³•æŠ¥é”™ã€‚<br>åˆæ¬¡å†™æ–‡ç« ï¼Œä¸åˆ°ä¹‹å¤„è¿˜è¯·è½»å–·ï¼ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h4&gt;&lt;p&gt;éå¯¹ç§°åŠ å¯†æŠ€æœ¯æ˜¯ä¿è¯æˆ‘ä»¬ä¿¡æ¯å®‰å…¨éå¸¸é‡è¦çš„æŠ€æœ¯ã€‚ RSAä¾¿æ˜¯å…¶ä¸­ç¿˜æ¥šï¼Œ åº”ç”¨å¹¿æ³›ã€‚æœ¬æ–‡ä»…ä»å®ç”¨çš„è§’åº¦ï¼Œ æ€»ç»“ä¸€ä¸‹&lt;code&gt;js&lt;/code&gt;è¯­è¨€ä¸­ï¼Œ RSAåŠ è§£å¯†å’Œç­¾ååŠ è§£å¯†çš„å®ç°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å·¥å…·ç±»" scheme="https://jiangjinjin1.github.io/categories/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
    
      <category term="å·¥å…·ç±»" scheme="https://jiangjinjin1.github.io/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>ç†è§£applyMiddlewareå’ŒcreateStoreä¹‹é—´çš„å…³ç³»</title>
    <link href="https://jiangjinjin1.github.io/2017/08/01/%E7%90%86%E8%A7%A3redux%E4%B8%AD%E7%9A%84applyMiddleware%E4%B8%8E%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    <id>https://jiangjinjin1.github.io/2017/08/01/ç†è§£reduxä¸­çš„applyMiddlewareä¸ä¸­é—´ä»¶/</id>
    <published>2017-08-01T03:26:23.000Z</published>
    <updated>2018-11-29T05:45:27.620Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>ä¸å¾—ä¸ä½©æœreduxçš„ä½œè€…<code>Dan Abramov</code>ï¼Œçœ‹å®Œ<code>applyMiddleware</code>çš„æºç ,æˆ‘çš„æ„Ÿå—å°±æ˜¯ï¼šè¿˜æœ‰è¿™ç§æ“ä½œï¼Ÿ<br>ä¸å…¶è¯´æ˜¯ç†è§£applyMiddlewareï¼Œä¸å¦‚è¯´æ˜¯ç†æ¸…<code>createStore</code>ï¼Œ<code>applyMiddleware</code>å’Œä¸€äº›ä¸­é—´ä»¶çš„å…³ç³»ï¼Œå’Œä¸ºä»€ä¹ˆä¸­é—´ä»¶éƒ½æ˜¯<code>export const createThunkMiddleware = ({ dispatch, getState }) =&gt; next =&gt; action =&gt; {...}</code>ä¸‰å±‚åµŒå¥—å…³ç³»ã€‚  </p><a id="more"></a><pre><code class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">applyMiddleware</span>(<span class="params"></span>) </span>{  <span class="keyword">for</span> (<span class="keyword">var</span> _len = <span class="built_in">arguments</span>.length, middlewares = <span class="built_in">Array</span>(_len), _key = <span class="number">0</span>; _key &lt; _len; _key++) {    middlewares[_key] = <span class="built_in">arguments</span>[_key];  }  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">createStore</span>) </span>{    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">reducer, preloadedState, enhancer</span>) </span>{      <span class="keyword">var</span> store = createStore(reducer, preloadedState, enhancer);      <span class="keyword">var</span> _dispatch = store.dispatch;      <span class="keyword">var</span> chain = [];      <span class="keyword">var</span> middlewareAPI = {        <span class="attr">getState</span>: store.getState,        <span class="attr">dispatch</span>: <span class="function"><span class="keyword">function</span> <span class="title">dispatch</span>(<span class="params">action</span>) </span>{          <span class="keyword">return</span> _dispatch(action);        }      };      chain = middlewares.map(<span class="function"><span class="keyword">function</span> (<span class="params">middleware</span>) </span>{        <span class="keyword">return</span> middleware(middlewareAPI);      });      _dispatch = compose.apply(<span class="literal">undefined</span>, chain)(store.dispatch);      <span class="keyword">return</span> _extends({}, store, {        <span class="attr">dispatch</span>: _dispatch      });    };  };}</code></pre><p>ç²¾ç®€çš„30è¡Œä»£ç ï¼Œè®¾è®¡æ€æƒ³å¼ºæ— æ•Œã€‚ä¸éš¾çœ‹å‡ºapplyMiddlewareè¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªcreateStoreå‡½æ•°è¿”å›ä¸€ä¸ªæ¥æ”¶å‚æ•°å’ŒcreateStoreä¸€æ ·çš„å‡½æ•°ã€‚å¦‚ä¸‹å›¾æ˜¯createStoreçš„éƒ¨åˆ†æºç ï¼š<br><img src="/images/createStore1.png"><br>enhancerå°±æ˜¯applyMiddlewareæ‰§è¡Œå®Œç¬¬ä¸€å±‚åçš„å‡½æ•°ï¼Œä¼ ä¸€ä¸ªcreateStoreå‡½æ•°ï¼Œå†æ¬¡è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ­¤æ—¶åªä¼ å¤–å±‚çš„reducerå’ŒpreloadedStateï¼Œå´æ²¡åœ¨ä¼ ç¬¬ä¸‰ä¸ªenhancerå‚æ•°ã€‚è¿™é‡Œè¦çœ‹å›åˆ°applyMiddlewareå‡½æ•°<br><img src="/images/applyMiddleware1.png"><br>ä¸¤å±‚å½¢å‚å¯¹åº”ä¸Šé¢çš„å®å‚ï¼Œå¯ä»¥çœ‹åˆ°applyMiddlewareå†…éƒ¨è¿˜è°ƒç”¨äº†createStoreï¼Œæ•´ä¸ªä¸€ä¸ªå®Œæ•´çš„é€»è¾‘å¦‚ä¸‹ï¼ˆéƒ¨åˆ†é‡è¦ä»£ç ï¼‰ï¼š  </p><p><code>é¦–å…ˆæ˜¯è°ƒç”¨createStoreï¼Œè¿™ä¸ªenhancerå…¶å®å°±æ˜¯applyMiddleware(middleware1, middleware2)ã€‚</code>  </p><pre><code class="javascript"><span class="keyword">const</span> store = createStore(    reducer,    <span class="literal">undefined</span>,    enhancer  )</code></pre><p><code>å…¶æ¬¡æ˜¯createStoreé‡Œåˆ¤æ–­æ‰§è¡Œenhancerï¼Œå¦‚æœä¼ äº†enhancerï¼Œé‚£å°±å¯¹enhanceræ‰§è¡Œå†æ‰§è¡Œï¼Œä¸”ç¬¬äºŒæ¬¡æ‰§è¡Œä¸ä¼ enhancerï¼Œè¿™é‡Œreturnçš„å…¶å®ä¹Ÿæ˜¯applyMiddlewareå‡½æ•°çš„è¿”å›å€¼ï¼Œä½†æ˜¯ç­‰ä¸‹åœ¨applyMiddlewareé‡Œè¿˜ä¼šåœ¨æ‰§è¡Œä¸€æ¬¡createStoreã€‚</code>  </p><pre><code class="javascript"><span class="keyword">if</span> (<span class="keyword">typeof</span> enhancer !== <span class="string">'undefined'</span>) {    <span class="keyword">if</span> (<span class="keyword">typeof</span> enhancer !== <span class="string">'function'</span>) {      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Expected the enhancer to be a function.'</span>);    }    <span class="keyword">return</span> enhancer(createStore)(reducer, preloadedState);  }</code></pre><p><code>æœ€åæ˜¯applyMiddlewareé‡Œçš„ï¼Œç”±äºcreateStoreä¸Šé¢æœ€åä¸€æ¬¡æ‰§è¡Œæœªä¼ enhancerï¼Œæ‰€ä»¥applyMiddlewareé‡Œçš„createStoreæ˜¯ä¸ä¼šå†æ¬¡æ‰§è¡Œenhancer,ä¸ç„¶å°±æ­»å¾ªç¯äº†ã€‚æ‹¿åˆ°è¿”å›çš„sotreå¯¹è±¡ï¼Œé‡æ–°æ”¹é€ dispatchå¹¶è¿”å›ï¼Œè¿™å°±æ˜¯ä¸­é—´ä»¶çš„å®ç°çš„ä¸€ä¸ªå¤§ä½“æµç¨‹ã€‚</code></p><pre><code class="javascript"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">createStore</span>) </span>{  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">reducer, preloadedState, enhancer</span>) </span>{    <span class="keyword">var</span> store = createStore(reducer, preloadedState, enhancer);    <span class="comment">//çœç•¥ä¸€ä¸‡è¡Œ</span>  }}</code></pre><p>è‡³æ­¤ï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿå·®ä¸å¤šç†è§£äº†createStoreå’ŒapplyMiddlewareç›¸äº’ä¹‹é—´çš„å…³ç³»äº†ï¼Œå…¶å®å…³äºä¸­é—´ä»¶ä¸ºä»€ä¹ˆåµŒå¥—ä¸‰å±‚çš„é—®é¢˜ä¹Ÿè‡ªç„¶è€Œç„¶çš„è§£å¼€äº†ï¼Œä¸€å¼ å›¾ç‰‡æ¥è¯´æ˜å§ã€‚<br><img src="/images/applyMiddleware2.png"></p><h4 id="èœé¸Ÿå­¦ä¹ ç¬”è®°ï¼Œå¦‚æœ‰ä¸å¯¹ï¼Œè¿˜å¸Œæœ›é«˜æ‰‹æŒ‡ç‚¹ã€‚å¦‚æœ‰é€ æˆè¯¯è§£ï¼Œè¿˜å¸Œæœ›å¤šå¤šè°…è§£ã€‚"><a href="#èœé¸Ÿå­¦ä¹ ç¬”è®°ï¼Œå¦‚æœ‰ä¸å¯¹ï¼Œè¿˜å¸Œæœ›é«˜æ‰‹æŒ‡ç‚¹ã€‚å¦‚æœ‰é€ æˆè¯¯è§£ï¼Œè¿˜å¸Œæœ›å¤šå¤šè°…è§£ã€‚" class="headerlink" title="èœé¸Ÿå­¦ä¹ ç¬”è®°ï¼Œå¦‚æœ‰ä¸å¯¹ï¼Œè¿˜å¸Œæœ›é«˜æ‰‹æŒ‡ç‚¹ã€‚å¦‚æœ‰é€ æˆè¯¯è§£ï¼Œè¿˜å¸Œæœ›å¤šå¤šè°…è§£ã€‚"></a>èœé¸Ÿå­¦ä¹ ç¬”è®°ï¼Œå¦‚æœ‰ä¸å¯¹ï¼Œè¿˜å¸Œæœ›é«˜æ‰‹æŒ‡ç‚¹ã€‚å¦‚æœ‰é€ æˆè¯¯è§£ï¼Œè¿˜å¸Œæœ›å¤šå¤šè°…è§£ã€‚</h4><p>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚<br>å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ,éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h4&gt;&lt;p&gt;ä¸å¾—ä¸ä½©æœreduxçš„ä½œè€…&lt;code&gt;Dan Abramov&lt;/code&gt;ï¼Œçœ‹å®Œ&lt;code&gt;applyMiddleware&lt;/code&gt;çš„æºç ,æˆ‘çš„æ„Ÿå—å°±æ˜¯ï¼šè¿˜æœ‰è¿™ç§æ“ä½œï¼Ÿ&lt;br&gt;ä¸å…¶è¯´æ˜¯ç†è§£applyMiddlewareï¼Œä¸å¦‚è¯´æ˜¯ç†æ¸…&lt;code&gt;createStore&lt;/code&gt;ï¼Œ&lt;code&gt;applyMiddleware&lt;/code&gt;å’Œä¸€äº›ä¸­é—´ä»¶çš„å…³ç³»ï¼Œå’Œä¸ºä»€ä¹ˆä¸­é—´ä»¶éƒ½æ˜¯&lt;code&gt;export const createThunkMiddleware = ({ dispatch, getState }) =&amp;gt; next =&amp;gt; action =&amp;gt; {...}&lt;/code&gt;ä¸‰å±‚åµŒå¥—å…³ç³»ã€‚  &lt;/p&gt;
    
    </summary>
    
      <category term="react" scheme="https://jiangjinjin1.github.io/categories/react/"/>
    
      <category term="redux" scheme="https://jiangjinjin1.github.io/categories/react/redux/"/>
    
    
      <category term="react" scheme="https://jiangjinjin1.github.io/tags/react/"/>
    
  </entry>
  
</feed>
